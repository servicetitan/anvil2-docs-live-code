{"version":3,"file":"LocalizationContext-UsmB5mnR.js","sources":["../src/providers/LocalizationProvider/useTranslations.ts","../src/providers/LocalizationProvider/LocalizationContext.ts"],"sourcesContent":["import { useCallback, useMemo } from \"react\";\nimport { ITranslations, TranslationResult } from \"./LocalizationProvider\";\n\nexport const useTranslations = (\n  translations: ITranslations[\"translations\"],\n) => {\n  const t = useCallback(\n    (key: string) => {\n      // A string may be a path through a translation file, such as \"x.y.z\". We parse accordingly.\n      try {\n        const val: TranslationResult = key\n          .split(\".\")\n          .reduce(\n            (currentTranslationSubtree: TranslationResult, currentKey) => {\n              if (!currentTranslationSubtree) {\n                throw new Error(\"no such translation available\");\n              }\n              if (typeof currentTranslationSubtree === \"string\") {\n                throw new Error(\"no such translation available\");\n              }\n              return currentTranslationSubtree?.[currentKey];\n            },\n            translations,\n          );\n        if (typeof val === \"string\") {\n          return val;\n        }\n        return key;\n      } catch {\n        console.warn(`No such translation key exists: ${key}`);\n        return key;\n      }\n    },\n    [translations],\n  );\n\n  return useMemo(() => ({ translations: t }), [t]);\n};\n","import { useContext, createContext } from \"react\";\n\nexport type TranslationContext = {\n  locale: string;\n  t(value: string): string;\n};\n\nconst defaultContext: TranslationContext = {\n  locale: \"en\",\n  t: (value) => value,\n};\n\nexport const LocalizationContext =\n  createContext<TranslationContext>(defaultContext);\n\nexport const useLocalizationContext = () => useContext(LocalizationContext);\n"],"names":[],"mappings":";;AAGO,MAAM,eAAA,GAAkB,CAC7B,YAAA,KACG;AACH,EAAA,MAAM,CAAA,GAAI,WAAA;AAAA,IACR,CAAC,GAAA,KAAgB;AAEf,MAAA,IAAI;AACF,QAAA,MAAM,GAAA,GAAyB,GAAA,CAC5B,KAAA,CAAM,GAAG,CAAA,CACT,MAAA;AAAA,UACC,CAAC,2BAA8C,UAAA,KAAe;AAC5D,YAAA,IAAI,CAAC,yBAAA,EAA2B;AAC9B,cAAA,MAAM,IAAI,MAAM,+BAA+B,CAAA;AAAA,YACjD;AACA,YAAA,IAAI,OAAO,8BAA8B,QAAA,EAAU;AACjD,cAAA,MAAM,IAAI,MAAM,+BAA+B,CAAA;AAAA,YACjD;AACA,YAAA,OAAO,4BAA4B,UAAU,CAAA;AAAA,UAC/C,CAAA;AAAA,UACA;AAAA,SACF;AACF,QAAA,IAAI,OAAO,QAAQ,QAAA,EAAU;AAC3B,UAAA,OAAO,GAAA;AAAA,QACT;AACA,QAAA,OAAO,GAAA;AAAA,MACT,CAAA,CAAA,MAAQ;AACN,QAAA,OAAA,CAAQ,IAAA,CAAK,CAAA,gCAAA,EAAmC,GAAG,CAAA,CAAE,CAAA;AACrD,QAAA,OAAO,GAAA;AAAA,MACT;AAAA,IACF,CAAA;AAAA,IACA,CAAC,YAAY;AAAA,GACf;AAEA,EAAA,OAAO,OAAA,CAAQ,OAAO,EAAE,YAAA,EAAc,GAAE,CAAA,EAAI,CAAC,CAAC,CAAC,CAAA;AACjD;;AC9BA,MAAM,cAAA,GAAqC;AAAA,EACzC,MAAA,EAAQ,IAAA;AAAA,EACR,CAAA,EAAG,CAAC,KAAA,KAAU;AAChB,CAAA;AAEO,MAAM,mBAAA,GACX,cAAkC,cAAc;AAE3C,MAAM,sBAAA,GAAyB,MAAM,UAAA,CAAW,mBAAmB;;;;"}