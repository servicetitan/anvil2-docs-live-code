{"version":3,"file":"ThemeProvider-Bmsz__5N.js","sources":["../src/internal/functions/kebabize.ts","../src/providers/ThemeProvider/ThemeProvider.tsx"],"sourcesContent":["/**\n * Converts a camelCase or PascalCase string to kebab-case format.\n *\n * Features:\n * - Handles camelCase to kebab-case conversion\n * - Handles PascalCase to kebab-case conversion\n * - Preserves consecutive numbers without separators\n * - Adds hyphens before uppercase letters and numbers\n * - Maintains lowercase letters as-is\n * - Handles edge cases like single characters and empty strings\n * - Preserves existing hyphens in the input string\n *\n * @param str - The string to convert to kebab-case\n * @returns The kebab-case version of the input string\n */\nexport function kebabize(str: string) {\n  return str\n    .split(\"\")\n    .map((letter, idx) => {\n      const prevChar = str[idx - 1];\n\n      if (!isNaN(parseFloat(letter))) {\n        if (!isNaN(parseFloat(prevChar))) {\n          return letter;\n        }\n        return `${idx !== 0 ? \"-\" : \"\"}${letter.toLowerCase()}`;\n      }\n\n      return letter.toUpperCase() === letter\n        ? `${idx !== 0 ? \"-\" : \"\"}${letter.toLowerCase()}`\n        : letter;\n    })\n    .join(\"\");\n}\n","import {\n  ComponentPropsWithoutRef,\n  FC,\n  ReactNode,\n  useContext,\n  useMemo,\n} from \"react\";\nimport cx from \"classnames\";\nimport { LayoutUtilProps } from \"../../types\";\nimport { useLayoutPropsUtil } from \"../../internal/hooks\";\nimport { ThemeProviderContext } from \"./internal/ThemeProviderContext\";\nimport { TokenObj } from \"@servicetitan/hammer-token/type/types\";\nimport { type Token } from \"@servicetitan/hammer-token\";\nimport { kebabize } from \"../../internal/functions\";\n\nimport styles from \"./ThemeProvider.module.scss\";\n\ntype TokenObjType = {\n  [key: string]: TokenObj;\n};\n\nexport type CustomThemeType = {\n  primitive?: Partial<Token[\"primitive\"]>;\n  semantic?: Partial<Token[\"semantic\"]>;\n  component?: Partial<Token[\"component\"]>;\n};\n\nexport type ThemeProviderProps = Omit<\n  ComponentPropsWithoutRef<\"div\">,\n  \"prefix\"\n> &\n  LayoutUtilProps & {\n    theme?: CustomThemeType;\n    mode?: \"light\" | \"dark\";\n    children?: ReactNode;\n  };\n\nexport const ThemeProvider: FC<ThemeProviderProps> = (props) => {\n  const { layoutStyles, componentProps } = useLayoutPropsUtil(props);\n\n  const {\n    theme,\n    mode: modeProp,\n    children,\n    className: classNameProp,\n    style,\n    ...rest\n  } = componentProps;\n\n  const { mode: modeContext } = useContext(ThemeProviderContext); //useThemeProvider({ theme, mode: modeProp })\n\n  const mode = modeProp ?? modeContext;\n\n  const classNameCombined = cx(styles[\"theme-provider\"], classNameProp, {\n    [styles[\"mode-dark\"]]: mode === \"dark\",\n    [styles[\"mode-light\"]]: mode === \"light\",\n  });\n\n  const createCustomThemeStyle = useMemo(() => {\n    if (!theme) return;\n    const styleObj: { [key: string]: string } = {};\n    const themeTokens = {\n      ...theme.primitive,\n      ...theme.semantic,\n      ...theme.component,\n    };\n    Object.keys(themeTokens).forEach((token) => {\n      const light = (themeTokens as TokenObjType)[token].value;\n      const dark = (themeTokens as TokenObjType)[token].attributes?.appearance\n        ?.dark.value;\n      if (!dark) {\n        styleObj[`--${kebabize(token)}`] = light;\n        return;\n      }\n      styleObj[`--${kebabize(token)}`] = `light-dark(${light}, ${dark})`;\n    });\n\n    return styleObj;\n  }, [theme]);\n\n  const styleCombined = {\n    ...style,\n    ...layoutStyles,\n    ...createCustomThemeStyle,\n  };\n\n  const value = useMemo(() => ({ theme, mode }), [theme, mode]);\n\n  return (\n    <ThemeProviderContext.Provider value={value}>\n      <div className={classNameCombined} style={styleCombined} {...rest}>\n        {children}\n      </div>\n    </ThemeProviderContext.Provider>\n  );\n};\n\nThemeProvider.displayName = \"ThemeProvider\";\n"],"names":["styles"],"mappings":"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"}