{"version":3,"file":"ButtonToggle--sKvhBoA.js","sources":["../src/components/ButtonToggle/ButtonToggle.tsx"],"sourcesContent":["import {\n  forwardRef,\n  KeyboardEvent,\n  MouseEvent,\n  Ref,\n  useEffect,\n  useState,\n} from \"react\";\nimport { useTrackingId } from \"../../hooks\";\nimport { DataTrackingId } from \"../../types\";\nimport { Button, ButtonProps } from \"../Button/Button\";\nimport { childrenToString } from \"../../internal/functions\";\nimport { useLayoutPropsUtil } from \"../../internal/hooks\";\n\nimport cx from \"classnames\";\nimport styles from \"../Button/Button.module.scss\";\n\nexport type ButtonToggleState = {\n  pressed: boolean;\n  value?: string;\n};\n\n/**\n * Props for the ButtonToggle component\n * @extends Omit<ButtonProps, \"appearance\" | \"loading\">\n */\nexport type ButtonToggleProps = Omit<ButtonProps, \"appearance\" | \"loading\"> & {\n  /**\n   * The default pressed(selected) state of the toggle button.\n   * @default false\n   */\n  defaultChecked?: boolean;\n\n  /**\n   * The controlled pressed(selected) state of the toggle button.\n   */\n  checked?: boolean;\n\n  /**\n   * The value of the toggle button.\n   */\n  value?: string;\n\n  /**\n   * Callback for when pressed(selected) changes.\n   */\n  onChange?: (\n    e: MouseEvent<HTMLButtonElement> | KeyboardEvent<HTMLButtonElement>,\n    state: ButtonToggleState,\n  ) => void;\n} &\n  /**\n   * Data tracking id\n   */\n  DataTrackingId;\n\n/**\n * ButtonToggle component for creating toggleable button states.\n *\n * Features:\n * - Supports both controlled and uncontrolled state management\n * - Toggle state with pressed/selected visual feedback\n * - Full accessibility support with aria-pressed attribute\n * - Callback support for state changes\n * - Supports layout utilities for positioning and spacing\n * - Inherits all button features except appearance and loading\n * - Flexible content with text and/or icons\n * - Keyboard interaction support\n * - Value association for form-like behavior\n * - Automatic tracking ID generation for analytics\n *\n * @example\n * <ButtonToggle\n *   defaultChecked={false}\n *   onChange={(e, state) => console.log('Toggle state:', state.pressed)}\n * >\n *   Toggle Me\n * </ButtonToggle>\n */\nexport const ButtonToggle = forwardRef(\n  (props: ButtonToggleProps, ref: Ref<HTMLButtonElement>) => {\n    const { layoutStyles, componentProps } = useLayoutPropsUtil(props);\n    const {\n      value,\n      defaultChecked = false,\n      checked,\n      className,\n      onClick,\n      onChange,\n      onKeyDown,\n      style,\n      icon,\n      size,\n      type,\n      ...rest\n    } = componentProps;\n\n    const [isPressed, setIsPressed] = useState(checked ?? defaultChecked);\n\n    const onClickHandler = (e: MouseEvent<HTMLButtonElement>) => {\n      if (typeof checked === \"undefined\") {\n        setIsPressed(!isPressed);\n        onChange?.(e, { pressed: !isPressed, value });\n      }\n      onClick?.(e);\n    };\n\n    useEffect(() => {\n      if (typeof checked === \"undefined\") return;\n      setIsPressed(checked);\n    }, [checked]);\n\n    const data = {\n      children: childrenToString(props.children),\n      icon,\n      size,\n      value,\n      type,\n    };\n\n    const trackingId = useTrackingId({\n      name: \"ButtonToggle\",\n      data,\n      hasOverride: !!props[\"data-tracking-id\"],\n    });\n\n    const ButtonToggleClassNames = cx(className, styles[\"button-toggle\"]);\n\n    const styleCombined = {\n      ...style,\n      ...layoutStyles,\n    };\n    return (\n      <Button\n        data-tracking-id={trackingId}\n        data-anv=\"button-toggle\"\n        aria-pressed={isPressed}\n        onClick={onClickHandler}\n        className={ButtonToggleClassNames}\n        value={value}\n        style={styleCombined}\n        icon={icon}\n        size={size}\n        type={type}\n        ref={ref}\n        {...rest}\n      />\n    );\n  },\n);\n\nButtonToggle.displayName = \"ButtonToggle\";\n"],"names":[],"mappings":";;;;;;;;;AA+EO,MAAM,YAAA,GAAe,UAAA;AAAA,EAC1B,CAAC,OAA0B,GAAA,KAAgC;AACzD,IAAA,MAAM,EAAE,YAAA,EAAc,cAAA,EAAe,GAAI,mBAAmB,KAAK,CAAA;AACjE,IAAA,MAAM;AAAA,MACJ,KAAA;AAAA,MACA,cAAA,GAAiB,KAAA;AAAA,MACjB,OAAA;AAAA,MACA,SAAA;AAAA,MACA,OAAA;AAAA,MACA,QAAA;AAAA,MACA,SAAA;AAAA,MACA,KAAA;AAAA,MACA,IAAA;AAAA,MACA,IAAA;AAAA,MACA,IAAA;AAAA,MACA,GAAG;AAAA,KACL,GAAI,cAAA;AAEJ,IAAA,MAAM,CAAC,SAAA,EAAW,YAAY,CAAA,GAAI,QAAA,CAAS,WAAW,cAAc,CAAA;AAEpE,IAAA,MAAM,cAAA,GAAiB,CAAC,CAAA,KAAqC;AAC3D,MAAA,IAAI,OAAO,YAAY,WAAA,EAAa;AAClC,QAAA,YAAA,CAAa,CAAC,SAAS,CAAA;AACvB,QAAA,QAAA,GAAW,GAAG,EAAE,OAAA,EAAS,CAAC,SAAA,EAAW,OAAO,CAAA;AAAA,MAC9C;AACA,MAAA,OAAA,GAAU,CAAC,CAAA;AAAA,IACb,CAAA;AAEA,IAAA,SAAA,CAAU,MAAM;AACd,MAAA,IAAI,OAAO,YAAY,WAAA,EAAa;AACpC,MAAA,YAAA,CAAa,OAAO,CAAA;AAAA,IACtB,CAAA,EAAG,CAAC,OAAO,CAAC,CAAA;AAEZ,IAAA,MAAM,IAAA,GAAO;AAAA,MACX,QAAA,EAAU,gBAAA,CAAiB,KAAA,CAAM,QAAQ,CAAA;AAAA,MACzC,IAAA;AAAA,MACA,IAAA;AAAA,MACA,KAAA;AAAA,MACA;AAAA,KACF;AAEA,IAAA,MAAM,aAAa,aAAA,CAAc;AAAA,MAC/B,IAAA,EAAM,cAAA;AAAA,MACN,IAAA;AAAA,MACA,WAAA,EAAa,CAAC,CAAC,KAAA,CAAM,kBAAkB;AAAA,KACxC,CAAA;AAED,IAAA,MAAM,sBAAA,GAAyB,EAAA,CAAG,SAAA,EAAW,MAAA,CAAO,eAAe,CAAC,CAAA;AAEpE,IAAA,MAAM,aAAA,GAAgB;AAAA,MACpB,GAAG,KAAA;AAAA,MACH,GAAG;AAAA,KACL;AACA,IAAA,uBACE,GAAA;AAAA,MAAC,MAAA;AAAA,MAAA;AAAA,QACC,kBAAA,EAAkB,UAAA;AAAA,QAClB,UAAA,EAAS,eAAA;AAAA,QACT,cAAA,EAAc,SAAA;AAAA,QACd,OAAA,EAAS,cAAA;AAAA,QACT,SAAA,EAAW,sBAAA;AAAA,QACX,KAAA;AAAA,QACA,KAAA,EAAO,aAAA;AAAA,QACP,IAAA;AAAA,QACA,IAAA;AAAA,QACA,IAAA;AAAA,QACA,GAAA;AAAA,QACC,GAAG;AAAA;AAAA,KACN;AAAA,EAEJ;AACF;AAEA,YAAA,CAAa,WAAA,GAAc,cAAA;;;;"}