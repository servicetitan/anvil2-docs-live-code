{"version":3,"file":"ListView-CZ5T8bR1.js","sources":["../src/internal/functions/mapOrder.ts","../src/components/ListView/internal/ListViewContext.ts","../src/components/ListView/ListViewOption.tsx","../src/components/ListView/ListViewOptionCell.tsx","../src/components/ListView/internal/utils.ts","../src/components/ListView/ListView.tsx"],"sourcesContent":["// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function mapOrder(array: any[], order: any[], key: string) {\n  array.sort(function (a, b) {\n    const A = a[key],\n      B = b[key];\n\n    if (order.indexOf(A) > order.indexOf(B)) {\n      return 1;\n    } else {\n      return -1;\n    }\n  });\n\n  return array;\n}\n","import { Dispatch, SetStateAction, createContext, useContext } from \"react\";\nimport { Option } from \"./types\";\n\n/**\n * Context properties for the ListView component\n */\nexport type ListViewContextProps = {\n  /** Array of option objects for focus management */\n  options?: Option[];\n  /** Callback when selection changes */\n  onSelectionChange?: (value: unknown[]) => void;\n  /** Currently selected items */\n  selectedItems: unknown[];\n  /** Currently indeterminate items */\n  indeterminateItems: unknown[];\n  /** Array of items if using items prop */\n  items?: unknown[];\n  /** Function to set the selected items */\n  setSelectedItems: Dispatch<\n    SetStateAction<ListViewContextProps[\"selectedItems\"]>\n  >;\n  /** Whether the component is controlled */\n  controlled?: boolean;\n};\n\nexport const ListViewContext = createContext<ListViewContextProps | null>(null);\n\n/**\n * Hook to access the listview context\n * @returns The listview context\n * @throws Error if used outside of a ListView component\n */\nexport function useListView() {\n  const context = useContext(ListViewContext);\n\n  if (context == null) {\n    throw new Error(\"useListView must be wrapped in <ListView />\");\n  }\n\n  return context;\n}\n","import {\n  ChangeEvent,\n  ComponentPropsWithoutRef,\n  forwardRef,\n  useEffect,\n  useId,\n  useMemo,\n  useRef,\n} from \"react\";\nimport { Checkbox, CheckboxProps } from \"../Checkbox\";\nimport { useMergeRefs, useTrackingId } from \"../../hooks\";\n\nimport cx from \"classnames\";\nimport styles from \"./ListView.module.scss\";\nimport { CheckboxState } from \"../Checkbox/types\";\nimport { useListView } from \"./internal/ListViewContext\";\nimport { DataTrackingId } from \"../../types\";\n\ntype ItemType = {\n  label: string;\n  disabled?: boolean;\n  [key: string]: unknown;\n};\n\n/**\n * Props for the ListViewOption component\n * @extends ComponentPropsWithoutRef<\"div\">\n */\nexport type ListViewOptionProps = Omit<\n  ComponentPropsWithoutRef<\"div\">,\n  \"onChange\"\n> & {\n  /** Whether the option is disabled */\n  disabled?: boolean;\n  /** Callback when the option changes */\n  onChange?: (e?: ChangeEvent<HTMLInputElement>, state?: CheckboxState) => void;\n} & (\n    | {\n        /** The item object when using items prop */\n        item: ItemType;\n      }\n    | {\n        /** The display label for the option */\n        label: string;\n      }\n  ) &\n  DataTrackingId;\n\n/**\n * ListViewOption component for individual selectable items within a listview.\n *\n * Features:\n * - Displays selectable options with proper ARIA attributes\n * - Supports disabled state for non-selectable options\n * - Keyboard navigation support\n * - Accessible with screen reader support\n *\n * @example\n * <ListView.Option item={{ label: \"Option 1\" }} />\n */\nexport const ListViewOption = forwardRef<HTMLDivElement, ListViewOptionProps>(\n  (props, ref) => {\n    const {\n      className,\n      children,\n      onChange,\n      style,\n      disabled: disabledProp,\n      ...remainingProps\n    } = props;\n\n    const optionRef = useRef<HTMLDivElement>(null);\n    const mergedRef = useMergeRefs([ref, optionRef]);\n\n    const cellRef = useRef<HTMLDivElement>(null);\n    const rowId = useId();\n    const {\n      selectedItems,\n      setSelectedItems,\n      indeterminateItems,\n      controlled,\n      onSelectionChange,\n    } = useListView();\n    const disabled =\n      \"item\" in remainingProps\n        ? disabledProp || remainingProps.item.disabled\n        : disabledProp;\n\n    useEffect(() => {\n      const focusables = optionRef.current?.querySelectorAll(\n        \"button:not(:disabled):not([aria-disabled='true']), input:not(:disabled):not([aria-disabled='true']), [tabindex='0']:not(:disabled):not([aria-disabled='true'])\",\n      );\n      focusables?.forEach((item, i) => {\n        item.setAttribute(\"tabindex\", \"-1\");\n        if (item.hasAttribute(\"id\")) return;\n        item.setAttribute(\"id\", `${rowId}-${i}`);\n      });\n    }, [rowId]);\n\n    const label =\n      \"item\" in remainingProps\n        ? remainingProps.item.label\n        : remainingProps.label;\n\n    const isSelected = useMemo(\n      () => matchInArray(label, selectedItems),\n      [selectedItems, label],\n    );\n\n    const isIndeterminate = useMemo(\n      () => matchInArray(label, indeterminateItems),\n      [indeterminateItems, label],\n    );\n\n    const onChangeHandler: CheckboxProps[\"onChange\"] = (e) => {\n      onChange?.(e, { checked: isSelected });\n    };\n\n    const onClickHandler: CheckboxProps[\"onClick\"] = () => {\n      updateSelectedItems();\n    };\n\n    const removeItemFromSelectedItems = (itemLabelToRemove: string) => {\n      return (selectedItems as (ItemType | string)[]).filter(\n        (potentialRemove) => {\n          if (typeof potentialRemove === \"string\") {\n            return potentialRemove !== itemLabelToRemove;\n          }\n          return potentialRemove.label !== itemLabelToRemove;\n        },\n      );\n    };\n\n    const addItemFromSelectedItems = (itemToAdd: ItemType | string) => {\n      return [...selectedItems, itemToAdd];\n    };\n\n    function updateSelectedItems() {\n      const isPartOfSelectedItems = matchInArray(label, selectedItems);\n      const callback = controlled ? onSelectionChange : setSelectedItems;\n      if (isPartOfSelectedItems) {\n        callback?.(removeItemFromSelectedItems(label));\n      } else {\n        callback?.(\n          addItemFromSelectedItems(\n            \"item\" in remainingProps\n              ? remainingProps.item\n              : remainingProps.label,\n          ),\n        );\n      }\n    }\n\n    const data = {\n      label: \"item\" in props ? props.item?.label : props.label,\n    };\n\n    const trackingId = useTrackingId({\n      name: \"ListViewOption\",\n      data,\n      hasOverride: !!props[\"data-tracking-id\"],\n    });\n\n    const {\n      item: _item,\n      label: _label,\n      ...forwardedProps\n    } = remainingProps as {\n      // This is to satisfy the type checker and allow us to destructure the item and label props which \"could\" exist.\n      // We're destructuring them because we don't want to forward them to the div element.\n      item: ItemType;\n      label: string;\n    };\n\n    return (\n      <div\n        data-tracking-id={trackingId}\n        className={cx([styles[\"listview-option\"]], className)}\n        data-anv=\"listview-option\"\n        style={style}\n        ref={mergedRef}\n        aria-disabled={disabled}\n        aria-selected={isSelected}\n        aria-label={label ?? \"Select\"}\n        role=\"row\"\n        {...forwardedProps}\n      >\n        <div className={styles[\"cell\"]} ref={cellRef} role=\"gridcell\">\n          <Checkbox\n            disabled={disabled}\n            checked={isIndeterminate ? undefined : isSelected}\n            indeterminate={isIndeterminate}\n            aria-label={label ?? \"Select\"}\n            onChange={onChangeHandler}\n            onClick={onClickHandler}\n          />\n        </div>\n        {children}\n      </div>\n    );\n  },\n);\n\nListViewOption.displayName = \"ListViewOption\";\n\n/**\n * Helper function to check if a list view option item is in an array (e.g. selected items or indeterminate items)\n * @param itemLabel - The label of the item to check if it is in the array\n * @param array - The array to check if the item is in\n * @returns True if the item is in the array, false otherwise\n */\nfunction matchInArray(\n  itemLabel: string,\n  array: (ItemType | unknown)[],\n): boolean {\n  return array.some(\n    (i) => itemLabel === i || itemLabel === (i as ItemType).label,\n  );\n}\n","import { ComponentPropsWithoutRef, forwardRef } from \"react\";\n\n/**\n * ListViewOptionCell component for rendering a cell within a listview option.\n *\n * Features:\n * - Renders a grid cell for option content\n * - Supports custom content and layout\n * - Accessible with proper ARIA attributes\n *\n * @example\n * <ListView.OptionCell>Custom cell content</ListView.OptionCell>\n */\nexport const ListViewOptionCell = forwardRef<\n  HTMLDivElement,\n  ComponentPropsWithoutRef<\"div\">\n>((props, ref) => {\n  const { ...rest } = props;\n  return (\n    <div role=\"gridcell\" data-anv=\"listview-option-cell\" {...rest} ref={ref} />\n  );\n});\n\nListViewOptionCell.displayName = \"ListViewOptionCell\";\n","import { Dispatch, KeyboardEvent, SetStateAction } from \"react\";\nimport { FocusedItem, Option } from \"./types\";\nimport { getActiveElement } from \"../../../internal/functions\";\n\nexport const listViewKeyboardNavigation = (\n  e: KeyboardEvent<HTMLDivElement>,\n  options: Option[],\n  focusedItem: FocusedItem,\n  setFocusedItem: Dispatch<SetStateAction<FocusedItem>>,\n  parent: HTMLDivElement | null,\n  currentFocusId: (id: string) => void,\n) => {\n  if (!options) return;\n  let activeElement: HTMLElement | null;\n  switch (e.code) {\n    case \"Enter\":\n    case \"Space\":\n      (\n        options[focusedItem.row].focusables[focusedItem.col] as HTMLElement\n      ).click();\n      activeElement = getActiveElement(document);\n      if (!activeElement) break;\n      activeElement.click();\n      e.preventDefault();\n      break;\n    case \"ArrowDown\":\n      parent?.focus();\n      options[focusedItem.row].focusables[focusedItem.col].removeAttribute(\n        \"data-interactive\",\n      );\n      if (focusedItem.row === options.length - 1) {\n        options[0].focusables[focusedItem.col].setAttribute(\n          \"data-interactive\",\n          \"focus-visible\",\n        );\n        currentFocusId(options[0].focusables[focusedItem.col].id);\n        setFocusedItem((prev) => {\n          return { ...prev, row: 0 };\n        });\n        break;\n      }\n\n      options[focusedItem.row + 1].focusables[focusedItem.col].setAttribute(\n        \"data-interactive\",\n        \"focus-visible\",\n      );\n      currentFocusId(\n        options[focusedItem.row + 1].focusables[focusedItem.col].id,\n      );\n      setFocusedItem((prev) => {\n        return { ...prev, row: focusedItem.row + 1 };\n      });\n      break;\n    case \"ArrowUp\":\n      parent?.focus();\n      options[focusedItem.row].focusables[focusedItem.col].removeAttribute(\n        \"data-interactive\",\n      );\n      if (focusedItem.row === 0) {\n        options[options.length - 1].focusables[focusedItem.col].setAttribute(\n          \"data-interactive\",\n          \"focus-visible\",\n        );\n        currentFocusId(\n          options[options.length - 1].focusables[focusedItem.col].id,\n        );\n        setFocusedItem((prev) => {\n          return { ...prev, row: options.length - 1 };\n        });\n        break;\n      }\n\n      options[focusedItem.row - 1].focusables[focusedItem.col].setAttribute(\n        \"data-interactive\",\n        \"focus-visible\",\n      );\n      currentFocusId(\n        options[focusedItem.row - 1].focusables[focusedItem.col].id,\n      );\n      setFocusedItem((prev) => {\n        return { ...prev, row: focusedItem.row - 1 };\n      });\n      break;\n    case \"ArrowRight\":\n      parent?.focus();\n      options[focusedItem.row].focusables[focusedItem.col].removeAttribute(\n        \"data-interactive\",\n      );\n      if (focusedItem.col === options[focusedItem.row].focusables.length - 1) {\n        options[focusedItem.row].focusables[0].setAttribute(\n          \"data-interactive\",\n          \"focus-visible\",\n        );\n        currentFocusId(options[focusedItem.row].focusables[0].id);\n        setFocusedItem((prev) => {\n          return {\n            ...prev,\n            col: 0,\n          };\n        });\n        break;\n      }\n\n      options[focusedItem.row].focusables[focusedItem.col + 1].setAttribute(\n        \"data-interactive\",\n        \"focus-visible\",\n      );\n      currentFocusId(\n        options[focusedItem.row].focusables[focusedItem.col + 1].id,\n      );\n      setFocusedItem((prev) => {\n        return { ...prev, col: focusedItem.col + 1 };\n      });\n      break;\n    case \"ArrowLeft\":\n      parent?.focus();\n      options[focusedItem.row].focusables[focusedItem.col].removeAttribute(\n        \"data-interactive\",\n      );\n      if (focusedItem.col === 0) {\n        options[focusedItem.row].focusables[\n          options[focusedItem.row].focusables.length - 1\n        ].setAttribute(\"data-interactive\", \"focus-visible\");\n        currentFocusId(\n          options[focusedItem.row].focusables[\n            options[focusedItem.row].focusables.length - 1\n          ].id,\n        );\n        setFocusedItem((prev) => {\n          return {\n            ...prev,\n            col: options[focusedItem.row].focusables.length - 1,\n          };\n        });\n        break;\n      }\n\n      options[focusedItem.row].focusables[focusedItem.col - 1].setAttribute(\n        \"data-interactive\",\n        \"focus-visible\",\n      );\n      currentFocusId(\n        options[focusedItem.row].focusables[focusedItem.col - 1].id,\n      );\n      setFocusedItem((prev) => {\n        return { ...prev, col: focusedItem.col - 1 };\n      });\n      break;\n\n    default:\n      break;\n  }\n};\n\nexport const getFocusables = (el: Element) => {\n  return el.querySelectorAll(\n    \"button:not(:disabled):not([aria-disabled='true']), input:not(:disabled):not([aria-disabled='true']), [tabindex='0']:not(:disabled):not([aria-disabled='true'])\",\n  );\n};\n","import {\n  KeyboardEvent,\n  MouseEvent,\n  Ref,\n  forwardRef,\n  useEffect,\n  useRef,\n  useState,\n} from \"react\";\nimport { LayoutUtilProps } from \"../../types\";\nimport {\n  FocusedItem,\n  ItemType,\n  ListViewWithItems,\n  ListViewWithOutItems,\n  Option,\n} from \"./internal/types\";\nimport { ListViewOption } from \"./ListViewOption\";\nimport { ListViewOptionCell } from \"./ListViewOptionCell\";\nimport { useLayoutPropsUtil } from \"../../internal/hooks\";\nimport { useMergeRefs } from \"../../hooks\";\nimport { getFocusables, listViewKeyboardNavigation } from \"./internal/utils\";\nimport { mapOrder } from \"../../internal/functions\";\nimport { ListViewContext } from \"./internal/ListViewContext\";\n\nimport cx from \"classnames\";\nimport styles from \"./ListView.module.scss\";\n\n/**\n * Props for the ListView component\n * @template T - The type of additional properties for items\n * @extends LayoutUtilProps\n */\nexport type ListViewProps<T> = LayoutUtilProps & {\n  /** Currently indeterminate items (controlled) */\n  indeterminate?: unknown[];\n  /** Callback when selection changes */\n  onSelectionChange?: (value: unknown[]) => void;\n  /** Currently selected items (controlled) */\n  selected?: ItemType<T>[];\n} & (ListViewWithItems<T> | ListViewWithOutItems);\n\nconst ListViewElement = function <T>(\n  props: ListViewProps<T>,\n  ref: Ref<HTMLDivElement>,\n) {\n  const { layoutStyles, componentProps } = useLayoutPropsUtil(props);\n  const {\n    indeterminate,\n    onSelectionChange,\n    className,\n    selected,\n    defaultSelected,\n    style,\n    onKeyDown,\n    ...remainingProps\n  } = componentProps;\n\n  const ListViewRef = useRef<HTMLDivElement>(null);\n  const isFocusVisible = useRef(true);\n  const combinedRef = useMergeRefs([ref, ListViewRef]);\n  const [options, setOptions] = useState<Option[]>();\n  const [currentActive, setCurrentActive] = useState<string>();\n  const [selectedItems, setSelectedItems] = useState<unknown[]>(\n    selected ?? defaultSelected ?? [],\n  );\n  const [focusedItem, setFocusedItem] = useState<FocusedItem>({\n    row: 0,\n    col: 0,\n  });\n\n  const styleCombined = {\n    ...style,\n    ...layoutStyles,\n  };\n\n  const onFocusHandler = () => {\n    if (!isFocusVisible.current) return;\n    if (!options) return;\n    options[focusedItem.row].focusables[focusedItem.col].setAttribute(\n      \"data-interactive\",\n      \"focus-visible\",\n    );\n    return;\n  };\n  const onBlurHandler = () => {\n    if (!options) return;\n    options[focusedItem.row].focusables[focusedItem.col]?.removeAttribute(\n      \"data-interactive\",\n    );\n    return;\n  };\n\n  const onKeyDownHandler = (e: KeyboardEvent<HTMLDivElement>) => {\n    onKeyDown?.(e);\n    if (!options) return;\n    isFocusVisible.current = true;\n    listViewKeyboardNavigation(\n      e,\n      options,\n      focusedItem,\n      setFocusedItem,\n      ListViewRef.current,\n      (id) => setCurrentActive(id),\n    );\n  };\n\n  const onMouseDownHandler = (e: MouseEvent<HTMLDivElement>) => {\n    isFocusVisible.current = false;\n    if (options && ListViewRef.current) {\n      options[focusedItem.row].focusables[focusedItem.col]?.removeAttribute(\n        \"data-interactive\",\n      );\n\n      const closestFocusable = (e.target as HTMLElement).closest(\n        \"button:not(:disabled):not([aria-disabled='true']), input:not(:disabled):not([aria-disabled='true']), [data-anv='checkbox']\",\n      );\n\n      const optionRow = (e.target as HTMLElement).closest(\n        '[data-anv=\"listview-option\"]',\n      );\n      if (!optionRow || optionRow.ariaDisabled) return;\n      const row = options.findIndex((option) => option.node === optionRow);\n      if (!closestFocusable) {\n        (options[row].focusables[0] as HTMLElement).click();\n        return;\n      }\n      const col = Array.prototype.indexOf.call(\n        options[row].focusables,\n        closestFocusable?.getAttribute(\"data-anv\") === \"checkbox\"\n          ? closestFocusable.children[0]\n          : closestFocusable,\n      );\n      setFocusedItem({ row, col });\n    }\n  };\n\n  useEffect(() => {\n    if (!ListViewRef.current) return;\n    const optionArr = ListViewRef.current.querySelectorAll<HTMLDivElement>(\n      \"div[data-anv='listview-option']:not([aria-disabled='true'])\",\n    );\n    const makeTree = Array.from(optionArr).map((option) => {\n      const childFocusables = getFocusables(option);\n      return {\n        node: option,\n        focusables: childFocusables,\n      };\n    });\n    setOptions(makeTree);\n  }, [props.children]);\n\n  const prevSelectedItems = useRef<unknown[]>(\n    selected ?? defaultSelected ?? [],\n  );\n  useEffect(() => {\n    if (!options) return;\n    const compareArr = options.map((option) => option.node.ariaLabel);\n    const orderedSelectedItems = mapOrder(selectedItems, compareArr, \"label\");\n    if (\n      JSON.stringify(prevSelectedItems.current) ===\n      JSON.stringify(orderedSelectedItems)\n    )\n      return;\n\n    onSelectionChange?.(orderedSelectedItems);\n    prevSelectedItems.current = orderedSelectedItems;\n  }, [onSelectionChange, options, selectedItems]);\n\n  useEffect(() => {\n    if (!selected) return;\n    const filterDuplicates = selected.reduce(\n      (acc: ListViewWithItems<T>[\"items\"], current) => {\n        const isDup = acc.find((item) => item.label === current.label);\n        if (!isDup) {\n          return acc.concat([current]);\n        } else {\n          return acc;\n        }\n      },\n      [],\n    );\n\n    if (!options) return;\n    const compareArr = options.map((option) => option.node.ariaLabel);\n    const orderedSelected = mapOrder(filterDuplicates, compareArr, \"label\");\n    if (\n      JSON.stringify(prevSelectedItems.current) ===\n      JSON.stringify(orderedSelected)\n    )\n      return;\n    setSelectedItems(orderedSelected);\n    prevSelectedItems.current = orderedSelected;\n  }, [onSelectionChange, options, selected]);\n\n  const ListViewClassNames = cx([styles[\"listview\"]], className);\n\n  if (\"items\" in remainingProps) {\n    const { children, items, ...rest } = remainingProps;\n    return (\n      <ListViewContext.Provider\n        value={{\n          options,\n          onSelectionChange,\n          indeterminateItems: indeterminate ?? [],\n          selectedItems,\n          setSelectedItems,\n          items,\n          controlled: !!selected,\n        }}\n      >\n        <div\n          ref={combinedRef}\n          className={ListViewClassNames}\n          style={styleCombined}\n          data-anv=\"listview\"\n          role=\"grid\"\n          aria-multiselectable=\"true\"\n          onFocus={onFocusHandler}\n          onBlur={onBlurHandler}\n          onKeyDown={onKeyDownHandler}\n          onMouseDown={onMouseDownHandler}\n          aria-activedescendant={currentActive}\n          tabIndex={0}\n          {...rest}\n        >\n          {children?.({\n            items: items.map((item: ItemType<T>) => {\n              return item;\n            }),\n          })}\n        </div>\n      </ListViewContext.Provider>\n    );\n  }\n\n  const { children, ...rest } = remainingProps;\n  return (\n    <ListViewContext.Provider\n      value={{\n        options,\n        onSelectionChange,\n        selectedItems,\n        indeterminateItems: indeterminate ?? [],\n        setSelectedItems,\n        controlled: !!selected || !!indeterminate,\n      }}\n    >\n      <div\n        ref={combinedRef}\n        className={ListViewClassNames}\n        style={styleCombined}\n        data-anv=\"listview\"\n        role=\"grid\"\n        onFocus={onFocusHandler}\n        onBlur={onBlurHandler}\n        onKeyDown={onKeyDownHandler}\n        onMouseDown={onMouseDownHandler}\n        aria-activedescendant={currentActive}\n        tabIndex={0}\n        {...rest}\n      >\n        {children}\n      </div>\n    </ListViewContext.Provider>\n  );\n};\n\nListViewElement.displayName = \"ListView\";\n\n/**\n * ListView component for displaying a list of selectable items in a grid layout.\n *\n * Features:\n * - Supports single and multiple selection modes\n * - Keyboard navigation with arrow keys\n * - Customizable item rendering\n * - Controlled and uncontrolled modes\n * - Accessible with proper ARIA attributes\n * - Focus management for interactive elements\n * - Layout utilities for positioning and spacing\n * - Automatic tracking ID generation for analytics\n *\n * @example\n * <ListView items={[{ label: \"Item 1\" }, { label: \"Item 2\" }]} onSelectionChange={handleSelection}>\n *   {({ items }) => items.map(item => (\n *     <ListView.Option key={item.label} item={item} />\n *   ))}\n * </ListView>\n */\nexport const ListView = Object.assign(\n  forwardRef(ListViewElement) as <T>(\n    props: ListViewProps<T> & { ref?: React.ForwardedRef<HTMLUListElement> },\n  ) => ReturnType<typeof ListViewElement>,\n  {\n    /**\n     * ListViewOption component for individual selectable items within a listview.\n     *\n     * Features:\n     * - Displays selectable options with proper ARIA attributes\n     * - Supports disabled state for non-selectable options\n     * - Keyboard navigation support\n     * - Accessible with screen reader support\n     * - Automatic tracking ID generation for analytics\n     *\n     * @example\n     * <ListView.Option item={{ label: \"Option 1\" }} />\n     */\n    Option: ListViewOption,\n    /**\n     * ListViewOptionCell component for rendering a cell within a listview option.\n     *\n     * Features:\n     * - Renders a grid cell for option content\n     * - Supports custom content and layout\n     * - Accessible with proper ARIA attributes\n     *\n     * @example\n     * <ListView.OptionCell>Custom cell content</ListView.OptionCell>\n     */\n    OptionCell: ListViewOptionCell,\n  },\n);\n"],"names":["styles","children","rest"],"mappings":"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"}