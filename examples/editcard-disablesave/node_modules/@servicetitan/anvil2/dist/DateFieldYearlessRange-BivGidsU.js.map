{"version":3,"file":"DateFieldYearlessRange-BivGidsU.js","sources":["../../hammer-icon/mdi/filled/arrow_forward.svg","../src/components/DateFieldYearlessRange/DateFieldYearlessRange.tsx"],"sourcesContent":["import * as React from \"react\";\nconst SvgArrowForward = (props) => /* @__PURE__ */ React.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", width: \"1em\", height: \"1em\", viewBox: \"0 0 24 24\", ...props }, /* @__PURE__ */ React.createElement(\"path\", { d: \"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z\" }));\nexport default SvgArrowForward;\n","import { ReactElement, useId, useState } from \"react\";\nimport cx from \"classnames\";\nimport textFieldStyles from \"../TextField/TextField.module.scss\";\nimport dateFieldYearlessRangeStyles from \"./DateFieldYearlessRange.module.scss\";\nimport { Helper, HelperProps } from \"../../internal/components\";\nimport { LayoutUtilProps, Size } from \"../../types\";\nimport {\n  useLayoutPropsUtil,\n  useOptionallyControlledState,\n} from \"../../internal/hooks\";\nimport FieldLabel, { FieldLabelProps } from \"../FieldLabel\";\nimport { YearlessDate, YearlessDateMode } from \"../DateFieldYearless/types\";\nimport Icon from \"../Icon\";\nimport ArrowForward from \"@servicetitan/hammer-icon/mdi/filled/arrow_forward.svg\";\nimport { YearlessDateInputWithPicker } from \"../DateFieldYearless/internal/YearlessDateInputWithPicker\";\n\nexport type DateFieldYearlessRangeValue = {\n  startDate: YearlessDate | null;\n  endDate: YearlessDate | null;\n};\n\nexport type DateFieldYearlessRangeChange = {\n  startDate: YearlessDate | null;\n  endDate: YearlessDate | null;\n};\n\nexport type DateFieldYearlessRangeChangeHandler = (\n  change: DateFieldYearlessRangeChange,\n) => void;\n\nexport type DateFieldYearlessRangeProps = {\n  /**\n   * The controlled value of the date field\n   */\n  value?: DateFieldYearlessRangeValue;\n  /**\n   * The default value for uncontrolled usage\n   */\n  defaultValue?: DateFieldYearlessRangeValue;\n  /**\n   * The function to call when the date value changes\n   */\n  onChange?: DateFieldYearlessRangeChangeHandler;\n  /**\n   * The date format mode (mm/dd or dd/mm)\n   */\n  mode?: YearlessDateMode;\n  /**\n   * Whether the field is required\n   */\n  required?: boolean;\n  /**\n   * Whether the picker is disabled\n   */\n  disablePicker?: boolean;\n  /**\n   * Whether to disable the hint\n   */\n  disableHint?: boolean;\n  error?: ReactElement | string | boolean;\n  label: string;\n  hideLabel?: boolean;\n  size?: Extract<Size, \"small\" | \"medium\" | \"large\">;\n  description?: HelperProps[\"description\"];\n  errorAriaLive?: HelperProps[\"errorAriaLive\"];\n  disabled?: boolean;\n  onFocus?: (event: React.FocusEvent) => void;\n  onBlur?: (event: React.FocusEvent) => void;\n  id?: string;\n  startLabel?: string;\n  endLabel?: string;\n  legendProps?: Omit<FieldLabelProps, \"el\">;\n  moreInfo?: FieldLabelProps[\"moreInfo\"];\n} & LayoutUtilProps;\n\nexport const DateFieldYearlessRange = (props: DateFieldYearlessRangeProps) => {\n  const { layoutStyles, componentProps } = useLayoutPropsUtil(props);\n  const {\n    label,\n    moreInfo,\n    size,\n    hideLabel = false,\n    required,\n    id: idProp,\n    legendProps,\n    errorAriaLive: errorAriaLiveProp = \"assertive\",\n    onFocus: onFocusProp,\n    onBlur: onBlurProp,\n    error,\n    disabled,\n    disableHint,\n    description,\n    mode = \"mm/dd\",\n    startLabel = \"Start date\",\n    endLabel = \"End date\",\n    disablePicker,\n  } = componentProps;\n\n  const [value, setValue] =\n    useOptionallyControlledState<DateFieldYearlessRangeValue>({\n      controlledValue: props.value,\n      defaultValue: props.defaultValue,\n      onChange: props.onChange,\n    });\n\n  const [openInfo, setOpenInfo] = useState(false);\n  const [errorAriaLive, setErrorAriaLive] =\n    useState<HelperProps[\"errorAriaLive\"]>(\"off\");\n\n  const handleFocus = (e: React.FocusEvent) => {\n    setOpenInfo(true);\n    setErrorAriaLive(errorAriaLiveProp);\n    onFocusProp?.(e);\n  };\n  const handleBlur = (e: React.FocusEvent) => {\n    setOpenInfo(false);\n    setErrorAriaLive(\"off\");\n    onBlurProp?.(e);\n  };\n\n  const labelUid = useId();\n  const id = idProp ?? labelUid;\n  const helperUid = useId();\n\n  const errorMessage = typeof error !== \"boolean\" ? error : undefined;\n\n  const handleStartDateChange = (startDate: YearlessDate | null) => {\n    setValue({\n      ...value,\n      startDate,\n    });\n  };\n\n  const handleEndDateChange = (endDate: YearlessDate | null) => {\n    setValue({\n      ...value,\n      endDate,\n    });\n  };\n\n  return (\n    <fieldset\n      className={cx(\n        textFieldStyles[\"textfield\"],\n        dateFieldYearlessRangeStyles[\"range-root\"],\n      )}\n      data-anv=\"date-field-yearless-range\"\n      style={layoutStyles}\n    >\n      <FieldLabel\n        el=\"legend\"\n        moreInfo={moreInfo}\n        openMoreInfo={openInfo}\n        required={required}\n        {...legendProps}\n        className={cx(\n          legendProps?.className,\n          hideLabel ? dateFieldYearlessRangeStyles[\"sr-only\"] : undefined,\n        )}\n      >\n        {label}\n      </FieldLabel>\n      <div className={dateFieldYearlessRangeStyles[\"range-row\"]}>\n        <FieldLabel\n          htmlFor={id + \"-\" + \"start\"}\n          className={dateFieldYearlessRangeStyles[\"sr-only\"]}\n        >\n          {startLabel}\n        </FieldLabel>\n        <YearlessDateInputWithPicker\n          id={id + \"-\" + \"start\"}\n          size={size}\n          error={!!error}\n          required={required}\n          disabled={disabled}\n          mode={mode}\n          value={value?.startDate}\n          onChange={(change) => handleStartDateChange(change.value)}\n          aria-describedby={helperUid}\n          disablePicker={disablePicker}\n          onFocus={handleFocus}\n          onBlur={handleBlur}\n        />\n        <Icon\n          svg={ArrowForward}\n          className={dateFieldYearlessRangeStyles[\"range-arrow\"]}\n        />\n        <FieldLabel\n          htmlFor={id + \"-\" + \"end\"}\n          className={dateFieldYearlessRangeStyles[\"sr-only\"]}\n        >\n          {endLabel}\n        </FieldLabel>\n        <YearlessDateInputWithPicker\n          id={id + \"-\" + \"end\"}\n          size={size}\n          error={!!error}\n          required={required}\n          disabled={disabled}\n          mode={mode}\n          value={value?.endDate}\n          onChange={(change) => handleEndDateChange(change.value)}\n          aria-labelledby={labelUid}\n          aria-describedby={helperUid}\n          disablePicker={disablePicker}\n          onFocus={handleFocus}\n          onBlur={handleBlur}\n        />\n      </div>\n      {!disableHint || errorMessage || description ? (\n        <Helper\n          id={helperUid}\n          hint={disableHint ? undefined : `Format: ${mode}`}\n          showCounter={false}\n          errorMessage={errorMessage}\n          errorAriaLive={errorAriaLive}\n          description={description}\n        />\n      ) : null}\n    </fieldset>\n  );\n};\n"],"names":["ArrowForward"],"mappings":"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"}