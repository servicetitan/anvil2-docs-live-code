{"version":3,"file":"Toaster-Dg7M4W4U.js","sources":["../src/components/Toast/internal/ToastProvider.tsx","../src/components/Toast/internal/useToasts.ts","../src/components/Toast/internal/ToasterPopover.tsx","../src/components/Toast/internal/constants.ts","../src/components/Toast/internal/addOrUpdateToastHeight.ts","../../../node_modules/.pnpm/uuid@10.0.0/node_modules/uuid/dist/esm-browser/stringify.js","../../../node_modules/.pnpm/uuid@10.0.0/node_modules/uuid/dist/esm-browser/rng.js","../../../node_modules/.pnpm/uuid@10.0.0/node_modules/uuid/dist/esm-browser/native.js","../../../node_modules/.pnpm/uuid@10.0.0/node_modules/uuid/dist/esm-browser/v4.js","../src/components/Toast/toast.ts","../src/components/Toast/internal/useCloseToast.tsx","../src/components/Toast/internal/useToastPositionStyles.ts","../src/components/Toast/internal/Toast.tsx","../src/components/Toast/internal/useHotkeyFocus.tsx","../src/components/Toast/internal/useShowMoreButtonPositionStyles.ts","../src/components/Toast/internal/ToastStack.tsx","../src/components/Toast/internal/Toaster.tsx"],"sourcesContent":["/* eslint-disable react-refresh/only-export-components */\nimport {\n  createContext,\n  Dispatch,\n  FC,\n  PropsWithChildren,\n  SetStateAction,\n  useCallback,\n  useEffect,\n  useMemo,\n  useState,\n} from \"react\";\nimport { ToastProps } from \"./Toast\";\n\n/**\n * Props for the ToastProvider component\n * @extends PropsWithChildren\n */\nexport type ToastProviderProps = PropsWithChildren<{\n  /**\n   * Whether this toaster is used within a dialog context\n   * @default false\n   */\n  isDialogToaster?: boolean;\n}>;\n\n/**\n * Context properties for the ToastProvider\n */\nexport type ToastProviderContextProps = {\n  /**\n   * Array of active toast notifications\n   */\n  toasts: ToastProps[];\n  /**\n   * Function to update the toast array\n   */\n  setToasts: Dispatch<SetStateAction<ToastProps[]>>;\n  /**\n   * Array of toast height measurements\n   */\n  toastHeights: { id: string; height: number }[];\n  /**\n   * Function to update toast heights\n   */\n  setToastHeights: Dispatch<\n    SetStateAction<ToastProviderContextProps[\"toastHeights\"]>\n  >;\n  /**\n   * Function to calculate the total height of the toast stack\n   */\n  getToastStackHeight: (index?: number) => number;\n  /**\n   * Number of toasts to display before stacking\n   */\n  toastsBeforeStack: number;\n  /**\n   * Function to update the number of toasts before stacking\n   */\n  setToastsBeforeStack: Dispatch<SetStateAction<number>>;\n  /**\n   * Whether extra toasts are currently visible\n   */\n  extraToastsVisible: boolean;\n  /**\n   * Function to update the visibility of extra toasts\n   */\n  setExtraToastsVisible: Dispatch<SetStateAction<boolean>>;\n  /**\n   * Whether this toaster is used within a dialog context\n   */\n  isDialogToaster: boolean;\n};\n\n/**\n * Context for managing toast state and operations\n */\nexport const ToastProviderContext = createContext<ToastProviderContextProps>({\n  toasts: [],\n  setToasts: () => [],\n  toastHeights: [],\n  setToastHeights: () => [],\n  getToastStackHeight: () => 0,\n  toastsBeforeStack: 3,\n  setToastsBeforeStack: () => [],\n  extraToastsVisible: false,\n  setExtraToastsVisible: () => [],\n  isDialogToaster: false,\n});\n\n/**\n * Global reference to toast state setters for external access\n */\nexport const getSetToasts: {\n  setToasts: ToastProviderContextProps[\"setToasts\"];\n  setToastHeights: ToastProviderContextProps[\"setToastHeights\"];\n} = {\n  setToasts: () => [],\n  setToastHeights: () => [],\n};\n\n/**\n * ToastProvider component for managing toast state and context.\n *\n * Features:\n * - Manages toast state and lifecycle\n * - Handles toast height tracking for positioning\n * - Provides stacking behavior configuration\n * - Supports dialog toaster mode\n * - Automatic duplicate toast detection and removal\n * - Context-based state management\n * - Height calculation utilities for positioning\n *\n * @example\n * <ToastProvider isDialogToaster={false}>\n *   <Toaster id=\"main-toaster\" />\n * </ToastProvider>\n */\nexport const ToastProvider: FC<ToastProviderProps> = ({\n  children,\n  isDialogToaster: isDialogToasterProp = false,\n}) => {\n  const [toasts, setToasts] = useState<ToastProps[]>([]);\n  const [toastHeights, setToastHeights] = useState<\n    ToastProviderContextProps[\"toastHeights\"]\n  >([]);\n  const [toastsBeforeStack, setToastsBeforeStack] = useState<number>(3);\n  const [extraToastsVisible, setExtraToastsVisible] = useState<boolean>(false);\n  getSetToasts.setToasts = setToasts;\n  getSetToasts.setToastHeights = setToastHeights;\n  const [isDialogToaster, setIsDialogToaster] =\n    useState<boolean>(isDialogToasterProp);\n\n  const removeDuplicateToasts = (toasts: ToastProps[]) => {\n    const toastIds = new Set<ToastProps[\"id\"]>();\n    const uniqueToasts = toasts.filter((toast) => {\n      if (toastIds.has(toast.id)) {\n        console.error(\n          `Encountered toast with duplicate id ${toast.id}. Each toast id needs to be unique.`,\n        );\n        return false;\n      } else {\n        toastIds.add(toast.id);\n        return true;\n      }\n    });\n    return uniqueToasts;\n  };\n\n  useEffect(() => {\n    const uniqueToasts = removeDuplicateToasts(toasts);\n    if (toasts.length !== uniqueToasts.length) {\n      setToasts(uniqueToasts);\n    }\n  }, [toasts]);\n\n  useEffect(() => {\n    setIsDialogToaster(isDialogToasterProp);\n  }, [isDialogToasterProp]);\n\n  const getToastStackHeight = useCallback(\n    (index?: number) => {\n      const toastHeightsOnly = toastHeights\n        .filter((_t, i) => {\n          return index !== undefined ? i > index : true;\n        })\n        .map((t) => t.height);\n      if (toastHeightsOnly.length > 0) {\n        if (extraToastsVisible) {\n          return toastHeightsOnly.reduce((totalHeight, currentHeight) => {\n            return totalHeight + currentHeight;\n          });\n        }\n        return toastHeightsOnly\n          .filter((_t, i) => i >= toastHeightsOnly.length - toastsBeforeStack)\n          .reduce((totalHeight, currentHeight) => {\n            return totalHeight + currentHeight;\n          });\n      }\n      return 0;\n    },\n    [toastHeights, extraToastsVisible, toastsBeforeStack],\n  );\n\n  const value = useMemo(\n    () => ({\n      toasts,\n      setToasts,\n      toastHeights,\n      setToastHeights,\n      getToastStackHeight,\n      toastsBeforeStack,\n      setToastsBeforeStack,\n      extraToastsVisible,\n      setExtraToastsVisible,\n      isDialogToaster,\n    }),\n    [\n      extraToastsVisible,\n      getToastStackHeight,\n      toastHeights,\n      toasts,\n      toastsBeforeStack,\n      isDialogToaster,\n    ],\n  );\n\n  return (\n    <ToastProviderContext.Provider value={value}>\n      {children}\n    </ToastProviderContext.Provider>\n  );\n};\n","import { useContext } from \"react\";\nimport { ToastProviderContext } from \"./ToastProvider\";\n\n/**\n * Hook for accessing toast context and state management functions\n * @returns ToastProviderContextProps - The toast context with state and functions\n * @throws Error when used outside of ToastProvider\n */\nexport const useToasts = () => {\n  const context = useContext(ToastProviderContext);\n\n  if (context == null) {\n    throw new Error(\"useToasts must be wrapped in <ToastProvider />\");\n  }\n\n  return context;\n};\n","import {\n  forwardRef,\n  PropsWithChildren,\n  useEffect,\n  useMemo,\n  useRef,\n} from \"react\";\n\nimport { useMergeRefs } from \"../../../hooks\";\nimport {\n  supportsPopover,\n  safeHidePopover,\n  safeShowPopover,\n} from \"../../../internal/functions\";\n\nimport { useToasts } from \"./useToasts\";\n\nimport styles from \"./Toaster.module.scss\";\n\n/**\n * Props for the ToasterPopover component\n * @extends PropsWithChildren\n */\ntype ToasterPopoverProps = PropsWithChildren;\n\n/**\n * ToasterPopover component for displaying toast notifications in a popover.\n *\n * Features:\n * - Displays toast notifications in a native popover element\n * - Automatically shows/hides based on toast count\n * - Handles dialog toaster state management\n * - Browser compatibility checking for popover support\n * - Smooth transitions between show/hide states\n * - Integration with toast provider context\n *\n * @example\n * <ToasterPopover>\n *   <ToastStack toasts={toastList} />\n * </ToasterPopover>\n */\nexport const ToasterPopover = forwardRef<HTMLDivElement, ToasterPopoverProps>(\n  (props, ref) => {\n    const { isDialogToaster } = useToasts();\n    const popoverRef = useRef<HTMLDivElement>(null);\n    const combinedRef = useMergeRefs([popoverRef, ref]);\n\n    const { toasts } = useToasts();\n    const toastCount = useMemo(() => toasts.length, [toasts]);\n\n    useEffect(() => {\n      if (!popoverRef.current) return;\n      if (!supportsPopover()) {\n        console.error(\"Popover is not supported in this browser\");\n        return;\n      }\n      const currentPopover = popoverRef.current;\n      let timeout: NodeJS.Timeout | undefined;\n\n      if (toastCount > 0) {\n        if (isDialogToaster) {\n          // For dialog toasters, we need to reset the popover state\n          timeout = setTimeout(() => {\n            safeHidePopover(currentPopover);\n            safeShowPopover(currentPopover);\n          });\n        } else {\n          // For non-dialog toasters, just show the popover\n          safeShowPopover(currentPopover);\n        }\n      } else {\n        safeHidePopover(currentPopover);\n      }\n\n      return () => {\n        if (timeout) clearTimeout(timeout);\n        if (toastCount === 0) {\n          safeHidePopover(currentPopover);\n        }\n      };\n    }, [toastCount, isDialogToaster]);\n\n    return (\n      <div ref={combinedRef} className={styles.popover} popover=\"manual\">\n        {props.children}\n      </div>\n    );\n  },\n);\n\nToasterPopover.displayName = \"ToasterPopover\";\n","/**\n * Animation duration for toast transitions in milliseconds\n */\nexport const ANIMATION_DURATION = 300; // ms\n","import { ToastProviderContextProps } from \"./ToastProvider\";\n\n/**\n * Adds or updates the height of a toast in the height tracking system\n * @param toastId - The unique identifier of the toast\n * @param toastHeight - The height of the toast in pixels\n * @param setToastHeights - Function to update toast heights\n */\nexport const addOrUpdateToastHeight = (\n  toastId: string,\n  toastHeight: number,\n  setToastHeights: ToastProviderContextProps[\"setToastHeights\"],\n) => {\n  setToastHeights((prev) => {\n    // update height if toast height is defined\n    if (prev.find((t) => t.id === toastId)) {\n      return prev.map((t) => {\n        if (t.id === toastId) {\n          return { ...t, height: toastHeight };\n        }\n        return t;\n      });\n    }\n    // otherwise set height for the first time\n    return [\n      ...prev,\n      {\n        id: toastId,\n        height: toastHeight,\n      },\n    ];\n  });\n};\n","import validate from './validate.js';\n\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\nexport function unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  //\n  // Note to future-self: No, you can't remove the `toLowerCase()` call.\n  // REF: https://github.com/uuidjs/uuid/pull/677#issuecomment-1757351351\n  return (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase();\n}\nfunction stringify(arr, offset = 0) {\n  var uuid = unsafeStringify(arr, offset);\n  // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n  return uuid;\n}\nexport default stringify;","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\n\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n  return getRandomValues(rnds8);\n}","var randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\nexport default {\n  randomUUID\n};","import native from './native.js';\nimport rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\nfunction v4(options, buf, offset) {\n  if (native.randomUUID && !buf && !options) {\n    return native.randomUUID();\n  }\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    offset = offset || 0;\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n    return buf;\n  }\n  return unsafeStringify(rnds);\n}\nexport default v4;","import { MouseEvent } from \"react\";\nimport { v4 as uuid } from \"uuid\";\n\nimport { Status } from \"../../types\";\nimport { ToastCustomEventDetail, ToastUpdateProps } from \"./internal/types\";\nimport { ToastProps } from \"./internal/Toast\";\n\nexport type toastProps = Pick<\n  ToastProps,\n  | \"actions\"\n  | \"containerClassName\"\n  | \"duration\"\n  | \"message\"\n  | \"onClose\"\n  | \"onDismiss\"\n  | \"progress\"\n  | \"title\"\n  | \"toastClassName\"\n>;\n\n/**\n * Use to run toast methods for adding, updating, and dismissing toasts.\n *\n * @method info\n * @method success\n * @method warning\n * @method danger\n * @method promise\n * @method update\n * @method dismiss\n */\nexport const toast = () => {\n  const toastMethods = [\n    \"info\",\n    \"success\",\n    \"warning\",\n    \"danger\",\n    \"promise\",\n    \"update\",\n    \"dismiss\",\n  ];\n  console.error(\n    \"Please use one of the following toast methods:\\n\",\n    ...toastMethods.map((m) => `\\ttoast.${m}()\\n`),\n  );\n};\ntype ToastCustomEvent = CustomEvent<ToastCustomEventDetail>;\n\nconst TOAST_EVENT_NAME = \"hammer-toast\";\n\nconst TOAST_TYPES: readonly Status[] = [\"info\", \"success\", \"warning\", \"danger\"];\n\nconst methods: Record<string, (props: toastProps) => string> = {};\n\nTOAST_TYPES.forEach((type) => {\n  methods[type] = (props: toastProps) => {\n    const uniqueId = uuid();\n\n    const ToastAddEvent: ToastCustomEvent =\n      new CustomEvent<ToastCustomEventDetail>(TOAST_EVENT_NAME, {\n        composed: true,\n        detail: {\n          id: uniqueId,\n          eventType: \"add\",\n          status: type,\n          createdAt: Date.now(),\n          ...props,\n        },\n      });\n    dispatchEvent(ToastAddEvent);\n    return uniqueId;\n  };\n});\n\nconst update = (id: string, props: Omit<ToastUpdateProps, \"id\">) => {\n  const ToastEvent: ToastCustomEvent = new CustomEvent<ToastCustomEventDetail>(\n    TOAST_EVENT_NAME,\n    {\n      composed: true,\n      detail: {\n        eventType: \"update\",\n        id,\n        ...props,\n      },\n    },\n  );\n  dispatchEvent(ToastEvent);\n};\n\nconst dismiss = (id?: string) => {\n  const ToastEvent: ToastCustomEvent = new CustomEvent<ToastCustomEventDetail>(\n    TOAST_EVENT_NAME,\n    {\n      composed: true,\n      detail: {\n        eventType: \"dismiss\",\n        id,\n      },\n    },\n  );\n  dispatchEvent(ToastEvent);\n};\n\nconst promise = async (\n  promise: Promise<string>,\n  toastConfig: {\n    loading: toastProps;\n    success: (data: string) => Omit<toastProps, \"id\">;\n    error: (error: string) => Omit<toastProps, \"id\">;\n  },\n): Promise<string> => {\n  const { onClose, ...loadingToastConfig } = toastConfig.loading;\n  let closedWhileLoading = false;\n\n  const onCloseWhileLoading: toastProps[\"onClose\"] = (\n    e: MouseEvent<HTMLButtonElement>,\n  ) => {\n    toastConfig.loading.onClose?.(e);\n    closedWhileLoading = true;\n  };\n\n  const id = toast.info({\n    ...loadingToastConfig,\n    onClose: onCloseWhileLoading,\n    duration: false,\n  });\n  await Promise.resolve(promise)\n    .then((res) => {\n      if (closedWhileLoading) {\n        toast.success({\n          ...toastConfig.success(res),\n        });\n      } else {\n        toast.update(id, {\n          ...toastConfig.success(res),\n          status: \"success\",\n        });\n      }\n    })\n    .catch((err) => {\n      if (closedWhileLoading) {\n        toast.danger({\n          ...toastConfig.error(err),\n        });\n      } else {\n        toast.update(id, {\n          ...toastConfig.error(err),\n          status: \"danger\",\n        });\n      }\n    });\n  return id;\n};\n\n/**\n * Use to add info toast to the stack.\n *\n * @example\n * import { toast } from \"@servicetitan/anvil2\";\n * const id = toast.info({\n *   message: \"This is an info toast\",\n *   title: \"Info\",\n * });\n */\ntoast.info = methods.info;\n/**\n * Use to add success toast to the stack.\n *\n * @example\n * import { toast } from \"@servicetitan/anvil2\";\n * const id = toast.success({\n *   message: \"This is an info toast\",\n *   title: \"Info\",\n * });\n */\ntoast.success = methods.success;\n/**\n * Use to add warning toast to the stack.\n *\n * @example\n * import { toast } from \"@servicetitan/anvil2\";\n * const id = toast.warning({\n *   message: \"This is an info toast\",\n *   title: \"Info\",\n * });\n */\ntoast.warning = methods.warning;\n/**\n * Use to add danger toast to the stack.\n *\n * @example\n * import { toast } from \"@servicetitan/anvil2\";\n * const id = toast.danger({\n *   message: \"This is an info toast\",\n *   title: \"Info\",\n * });\n */\ntoast.danger = methods.danger;\n/**\n * Use to update a specific toast in the stack.\n *\n * @example\n * import { toast } from \"@servicetitan/anvil2\";\n * const id = toast.info({\n *   message: \"This is an info toast\",\n *   title: \"Info\",\n * });\n * toast.update(id, {\n *   message: \"This is an updated toast\",\n *   title: \"Updated\",\n * });\n */\ntoast.update = update;\n/**\n * Use to dismiss a specific toast in the stack.\n *\n * @example\n * import { toast } from \"@servicetitan/anvil2\";\n * const id = toast.info({\n *   message: \"This is an info toast\",\n *   title: \"Info\",\n * });\n * toast.dismiss(id);\n */\ntoast.dismiss = dismiss;\n/**\n * Use to create a toast that updates itself based on a Promise state.\n *\n * @example\n * ```ts\n * import { toast } from \"@servicetitan/anvil2\";\n * toast.promise(\n *   new Promise((resolve, reject) => {\n *     setTimeout(() => {\n *       resolve(\"This is a success toast\");\n *     }, 2000);\n *   }),\n *   {\n *     loading: {\n *       message: \"This is a loading toast\",\n *       title: \"Loading\",\n *     },\n *     success: (data) => ({\n *       message: data,\n *       title: \"Success\",\n *     }),\n *     error: (error) => ({\n *       message: error,\n *       title: \"Error\",\n *     }),\n *   },\n * );\n * ```\n */\ntoast.promise = promise;\n","import { ToastProps } from \"./Toast\";\nimport { useToasts } from \"./useToasts\";\nimport { ANIMATION_DURATION } from \"./constants\";\nimport { ToastProviderContextProps } from \"./ToastProvider\";\n\n/**\n * Updates toasts after close\n * @param setToasts - Function to update toasts\n * @param setToastHeights - Function to update toast heights\n * @param id - Optional toast ID to close specific toast, or undefined to close all\n */\nconst setToastsAfterClose = (\n  setToasts: ToastProviderContextProps[\"setToasts\"],\n  setToastHeights: ToastProviderContextProps[\"setToastHeights\"],\n  id?: string,\n) => {\n  setToasts((prev) => (id ? prev.filter((t) => t.id !== id) : []));\n  setToastHeights((prev) => (id ? prev.filter((t) => t.id !== id) : []));\n};\n\n/**\n * Closes a toast with animation support\n * @param setToasts - Function to update toasts\n * @param setToastHeights - Function to update toast heights\n * @param closingToastClassName - CSS class for closing animation\n * @param id - Optional toast ID to close specific toast, or undefined to close all\n */\nconst closeToast = (\n  setToasts: ToastProviderContextProps[\"setToasts\"],\n  setToastHeights: ToastProviderContextProps[\"setToastHeights\"],\n  closingToastClassName: ToastProps[\"toastClassName\"],\n  id?: string,\n) => {\n  const prefersReducedMotion = globalThis.matchMedia(\n    `(prefers-reduced-motion: reduce)`,\n  ).matches;\n\n  if (prefersReducedMotion) {\n    setToastsAfterClose(setToasts, setToastHeights, id);\n  } else {\n    // show the close animation\n    setToasts((prev) =>\n      prev.map((t) => {\n        if (!id || t.id === id) {\n          return {\n            ...t,\n            toastClassName: closingToastClassName,\n          };\n        }\n        return t;\n      }),\n    );\n    // actually remove the toast\n    setTimeout(() => {\n      setToastsAfterClose(setToasts, setToastHeights, id);\n    }, ANIMATION_DURATION - 10);\n  }\n};\n\n/**\n * Hook that returns a function to close toasts\n * @param closingToastClassName - CSS class for closing animation\n * @returns Function to close toasts by ID or all toasts\n */\nexport const useCloseToast = (\n  closingToastClassName: ToastProps[\"toastClassName\"],\n) => {\n  const { setToasts, setToastHeights } = useToasts();\n  return (id?: string) => {\n    closeToast(setToasts, setToastHeights, closingToastClassName, id);\n  };\n};\n","import { CSSProperties, useMemo } from \"react\";\nimport { useToasts } from \"./useToasts\";\n\nconst STACKED_TOAST_HEIGHT = \"5.3125rem\"; // border + padding + title + gap + message\nconst STACKED_TOAST_PEEK_HEIGHT = \"1rem\";\n\n/**\n * Hook for calculating position styles for individual toasts\n * @param index - The index of the toast in the stack\n * @returns CSS properties for positioning the toast\n */\nexport const useToastPositionStyles = (\n  index: number,\n): CSSProperties | undefined => {\n  const {\n    toasts,\n    toastHeights,\n    getToastStackHeight,\n    toastsBeforeStack,\n    extraToastsVisible,\n  } = useToasts();\n  const toastCount = toasts.length;\n  const toasterHeight = getToastStackHeight(index);\n\n  return useMemo(() => {\n    if (index === toastCount - 1) {\n      return {\n        top: 0,\n        zIndex: 3,\n      };\n    } else if (\n      // all toasts when show more is clicked\n      extraToastsVisible ||\n      // or visible toasts when stacked\n      (!extraToastsVisible &&\n        (toastCount <= toastsBeforeStack ||\n          (toastCount > toastsBeforeStack &&\n            index >= toastCount - toastsBeforeStack)))\n    ) {\n      return {\n        top: toasterHeight,\n      };\n\n      // stacked toasts\n    } else {\n      if (toastCount > toastsBeforeStack) {\n        // first stack\n        if (index === toastCount - toastsBeforeStack - 1) {\n          return {\n            top: `calc(${toasterHeight || 0}px - ${STACKED_TOAST_HEIGHT} +\n              ${STACKED_TOAST_PEEK_HEIGHT})`,\n            zIndex: 1,\n          };\n          // second stack and hidden toasts\n        } else if (index <= toastCount - toastsBeforeStack - 2) {\n          return {\n            top: `calc(${toasterHeight || 0}px -\n              ${STACKED_TOAST_HEIGHT} \n             + ${STACKED_TOAST_PEEK_HEIGHT} * 2)`,\n            zIndex: 0,\n          };\n        }\n      }\n    }\n    return undefined;\n    // only run when toastHeights changes\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [toastHeights]);\n};\n","import cx from \"classnames\";\nimport { forwardRef, useEffect, useRef, useState } from \"react\";\n\nimport { Alert, AlertProps } from \"../../Alert\";\nimport { Button, ButtonProps } from \"../../Button\";\nimport { ProgressBar, ProgressBarProps } from \"../../ProgressBar\";\nimport { useSwipe, UseSwipeFn } from \"../../../hooks\";\n\nimport { ANIMATION_DURATION } from \"./constants\";\nimport { addOrUpdateToastHeight } from \"./addOrUpdateToastHeight\";\nimport { toast } from \"../toast\";\nimport { useCloseToast } from \"./useCloseToast\";\nimport { useToastPositionStyles } from \"./useToastPositionStyles\";\nimport { useToasts } from \"./useToasts\";\n\nimport styles from \"./Toaster.module.scss\";\n\ntype ToastAction = Pick<ButtonProps, \"appearance\" | \"onClick\"> & {\n  label: string;\n};\n\n/**\n * Props for the Toast component\n * @extends ComponentPropsWithoutRef<\"div\">\n */\nexport type ToastProps = {\n  // used in toast methods\n  /**\n   * Action buttons to display in the toast\n   */\n  actions?: { primary: ToastAction; secondary?: ToastAction };\n  /**\n   * CSS class name for the toast container\n   */\n  containerClassName?: string;\n  /**\n   * Duration in milliseconds before auto-dismiss. Set to false to disable auto-dismiss\n   */\n  duration?: number | false;\n  /**\n   * Additional message content to display below the title\n   */\n  message?: string;\n  /**\n   * Callback function called when toast is dismissed, expired, or closed\n   */\n  onDismiss?: () => void;\n  /**\n   * Progress bar value or indeterminate state\n   */\n  progress?: ProgressBarProps[\"value\"] | \"indeterminate\";\n  /**\n   * CSS class name for the toast element\n   */\n  toastClassName?: string;\n\n  // used in toast methods and passed to alert\n  /**\n   * Unique identifier for the toast\n   */\n  id: string;\n  /**\n   * This is only run when the \"x\" button is triggered on the toast.\n   * To run a callback when the toast is closed, expired, or dismissed,\n   * use the `onDismiss` parameter instead.\n   */\n  onClose?: AlertProps[\"onClose\"];\n  /**\n   * Visual status of the toast (info, success, warning, danger)\n   */\n  status: AlertProps[\"status\"];\n  /**\n   * Title text displayed in the toast\n   */\n  title: string;\n\n  // used by toaster (internal)\n  /**\n   * Timestamp when the toast was created (internal use)\n   */\n  createdAt?: number;\n  /**\n   * Position index of the toast in the stack (internal use)\n   */\n  index?: number;\n  /**\n   * Whether the toast is below the stack index (internal use)\n   */\n  isBelowStackIndex?: boolean;\n  /**\n   * Whether the toast is currently stacked (internal use)\n   */\n  isStacked?: boolean;\n  /**\n   * Pause status for hover interactions (internal use)\n   */\n  pausedStatus?: number | \"resumed\";\n};\n\n/**\n * Toast component for displaying temporary notifications to users.\n *\n * Features:\n * - Supports different visual styles (info, success, warning, danger)\n * - Auto-dismiss with configurable duration\n * - Optional action buttons for user interaction\n * - Progress bar support for loading states\n * - Swipe gestures for dismissal\n * - Stacking behavior for multiple toasts\n * - Pause on hover functionality\n * - Accessible with proper ARIA roles\n * - Smooth animations and transitions\n *\n * @example\n * <Toast\n *   id=\"toast-1\"\n *   status=\"success\"\n *   title=\"Success!\"\n *   message=\"Your changes have been saved.\"\n *   duration={5000}\n * />\n */\nexport const Toast = forwardRef<HTMLDivElement, ToastProps>(\n  (\n    {\n      actions,\n      containerClassName,\n      createdAt,\n      duration: durationProp,\n      index = 0,\n      isBelowStackIndex,\n      isStacked,\n      message,\n      onClose,\n      onDismiss,\n      pausedStatus,\n      progress,\n      toastClassName,\n      ...alertProps\n    },\n    ref,\n  ) => {\n    const { setToastHeights, extraToastsVisible, isDialogToaster } =\n      useToasts();\n    const closeToast = useCloseToast(styles.close);\n    const toastPositionStyles = useToastPositionStyles(index);\n\n    const toastWrapperRef = useRef<HTMLDivElement>(null);\n    const timerRef = useRef<NodeJS.Timeout | undefined>();\n    const pausedAtRef = useRef<number>(0);\n    const createdAtRef = useRef<number>(createdAt ?? 0);\n    const hasBeenStackedRef = useRef<boolean>(false);\n\n    const [transitionClass, setTransitionClass] = useState<string | undefined>(\n      styles.hidden,\n    );\n    const [toastOpened, setToastOpened] = useState<boolean>(false);\n\n    // don't allow toasts to auto-dismiss when actions are present\n    const duration = actions ? false : durationProp;\n\n    const alertClasses = cx(\n      styles[\"toast-alert\"],\n      toastClassName,\n      transitionClass,\n    );\n\n    useEffect(() => {\n      // add styles for opening animation then remove\n      if (!toastOpened) {\n        setTransitionClass(styles.open);\n\n        setTimeout(() => {\n          setTransitionClass(undefined);\n        }, ANIMATION_DURATION);\n\n        // manually set toast opened since animation is not run\n        setToastOpened(true);\n      }\n      return () => {\n        // run when toast is closed\n        onDismiss?.();\n      };\n      // only run this once\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    // send height to toast provider for positioning calculations on open\n    useEffect(() => {\n      if (toastWrapperRef.current && toastOpened && !isStacked) {\n        if ((isBelowStackIndex && extraToastsVisible) || isDialogToaster) {\n          // animation is disabled when dialog toaster first opens\n          const delay = isDialogToaster ? 0 : ANIMATION_DURATION;\n\n          setTimeout(() => {\n            const height = toastWrapperRef.current?.clientHeight;\n            addOrUpdateToastHeight(alertProps.id, height ?? 0, setToastHeights);\n          }, delay); // get correct height after width transition\n        } else {\n          const height = toastWrapperRef.current.clientHeight;\n          addOrUpdateToastHeight(alertProps.id, height, setToastHeights);\n        }\n      }\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [\n      toastOpened,\n      isStacked,\n      extraToastsVisible,\n      isDialogToaster,\n      // toast updates\n      actions,\n      message,\n      alertProps.title,\n    ]);\n\n    // handle duration timeout and pausing when hovering over toaster\n    useEffect(() => {\n      if (duration && !isStacked) {\n        // initial render\n        if (!pausedStatus) {\n          timerRef.current = setTimeout(\n            () => closeToast(alertProps.id),\n            duration,\n          );\n          return () => clearTimeout(timerRef.current);\n\n          // initial hovering over toaster\n        } else if (typeof pausedStatus === \"number\") {\n          clearTimeout(timerRef.current);\n          pausedAtRef.current = pausedStatus;\n\n          // after initial hovering over toaster\n        } else if (pausedStatus === \"resumed\") {\n          const remainingDuration =\n            // rendering new toast after initial hover\n            pausedAtRef.current === 0\n              ? duration\n              : // resume timer after valid hover\n                duration + (createdAtRef.current || 0) - pausedAtRef.current;\n\n          timerRef.current = setTimeout(() => {\n            closeToast(alertProps.id);\n            pausedAtRef.current = 0;\n          }, remainingDuration);\n\n          return () => clearTimeout(timerRef.current);\n        }\n      }\n      // don't want to re-render here for alertProps.id, closeToast, or isStacked\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [createdAtRef.current, duration, pausedStatus]);\n\n    // disable timeout when toasts are stacked\n    useEffect(() => {\n      if (duration) {\n        // stop timer if toast is stacked (hidden)\n        if (isStacked) {\n          clearTimeout(timerRef.current);\n          hasBeenStackedRef.current = true;\n\n          // reset timer after moving out of the stack\n        } else if (\n          !isStacked &&\n          hasBeenStackedRef.current &&\n          !(typeof pausedStatus === \"number\")\n        ) {\n          createdAtRef.current = Date.now();\n\n          timerRef.current = setTimeout(() => {\n            closeToast(alertProps.id);\n            hasBeenStackedRef.current = false;\n          }, duration);\n\n          return () => clearTimeout(timerRef.current);\n        }\n      }\n      // only run if isStacked or duration change\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [isStacked, duration]);\n\n    const onSwipe = (dir: UseSwipeFn[\"direction\"]) => {\n      if (dir === \"right\") {\n        toast.dismiss(alertProps.id);\n        return;\n      }\n    };\n\n    const { direction, ...touchProps } = useSwipe(onSwipe);\n\n    const alertCloseProps:\n      | {\n          onClose: AlertProps[\"onClose\"];\n        }\n      | Record<string, never> =\n      isStacked && !extraToastsVisible\n        ? {}\n        : {\n            onClose,\n          };\n\n    const hasMessage = message && message !== \"\";\n    const hasProgress = progress != null;\n\n    return (\n      <div\n        data-anv=\"toast\"\n        className={containerClassName}\n        style={toastPositionStyles ?? { top: \"1.5rem\" }}\n        ref={toastWrapperRef}\n        onAnimationStart={() => setToastOpened(true)}\n        role={isStacked ? \"presentation\" : undefined}\n        {...touchProps}\n      >\n        <Alert\n          className={alertClasses}\n          {...alertProps}\n          {...alertCloseProps}\n          ref={ref}\n          tabIndex={isStacked && !extraToastsVisible ? -1 : 0}\n        >\n          {hasMessage || hasProgress || actions ? (\n            <>\n              {hasMessage ? (\n                <div\n                  className={styles[\"message-container\"]}\n                  id={`toast-message-${alertProps.id}`}\n                >\n                  {message}\n                </div>\n              ) : null}\n\n              {hasProgress ? (\n                <>\n                  {progress === \"indeterminate\" ? (\n                    <ProgressBar\n                      aria-labelledby={`toast-message-${alertProps.id}`}\n                      indeterminate\n                    />\n                  ) : (\n                    <ProgressBar\n                      aria-labelledby={`toast-message-${alertProps.id}`}\n                      value={progress}\n                    />\n                  )}\n                </>\n              ) : null}\n\n              {actions ? (\n                <div className={styles[\"alert-action\"]}>\n                  <Button\n                    appearance={actions.primary.appearance}\n                    onClick={actions.primary.onClick}\n                    size=\"small\"\n                  >\n                    {actions.primary.label}\n                  </Button>\n\n                  {actions.secondary && (\n                    <Button\n                      appearance={actions.secondary.appearance}\n                      onClick={actions.secondary.onClick}\n                      size=\"small\"\n                    >\n                      {actions.secondary.label}\n                    </Button>\n                  )}\n                </div>\n              ) : null}\n            </>\n          ) : null}\n        </Alert>\n      </div>\n    );\n  },\n);\n\nToast.displayName = \"Toast\";\n","import { MutableRefObject, useEffect, useRef, useState } from \"react\";\nimport { getActiveElement } from \"../../../internal/functions\";\n\ntype HotkeyFocusParams = {\n  disabled: boolean;\n  hotkey: string;\n  onHotkeyIn?: () => void | Promise<void>;\n  onHotkeyOut?: () => void | Promise<void>;\n  refToFocus: MutableRefObject<HTMLElement>;\n  rootRef: MutableRefObject<HTMLElement>;\n};\n\n/**\n * A hook that listens for a hotkey press and focuses an element when the hotkey is pressed.\n * The hook also listens for the Escape key to blur the element and refocus the previous element.\n *\n * @param params\n * @param params.disabled - If true, the hotkey will not be active\n * @param params.hotkey - The key to press to focus the element\n * @param params.onHotkeyIn - A function to run when the hotkey is pressed; this runs before the element is focused\n * @param params.onHotkeyOut - A function to run when the user presses Escape after focusing the element\n * @param params.refToFocus - The ref to the element that will be focused when the hotkey is pressed\n * @param params.rootRef - The ref to the element that will listen for changes to focus, disabling the Escape key\n */\nexport const useHotkeyFocus = ({\n  disabled,\n  hotkey,\n  onHotkeyIn,\n  onHotkeyOut,\n  refToFocus,\n  rootRef,\n}: HotkeyFocusParams) => {\n  const [shouldEscapeRefocus, setShouldEscapeRefocus] = useState(false);\n  const previousFocusElement = useRef<HTMLElement | null>(null);\n\n  useEffect(() => {\n    if (disabled || typeof document === \"undefined\") return;\n    const rootElement = rootRef.current;\n\n    const blurHandler = (e: FocusEvent) => {\n      if (e.relatedTarget && rootElement.contains(e.relatedTarget as Node)) {\n        return;\n      }\n      // If the user's focus leaves the area, pressing Escape will no longer refocus the previous element\n      setShouldEscapeRefocus(false);\n    };\n\n    const keyDownHandler = async (e: KeyboardEvent) => {\n      const activeElement = getActiveElement(document);\n\n      if (\n        activeElement?.tagName.toLowerCase() !== \"input\" &&\n        activeElement?.tagName.toLowerCase() !== \"textarea\" &&\n        activeElement?.tagName.toLowerCase() !== \"pre\" &&\n        e.key === hotkey\n      ) {\n        e.preventDefault();\n        previousFocusElement.current = activeElement as HTMLElement | null;\n        await onHotkeyIn?.();\n\n        if (refToFocus.current) {\n          refToFocus.current.focus();\n          setShouldEscapeRefocus(true);\n          if (refToFocus.current.scrollTo) {\n            refToFocus.current.scrollTo();\n          }\n        }\n      } else if (e.code === \"Escape\" && shouldEscapeRefocus) {\n        onHotkeyOut?.();\n        if (\n          previousFocusElement.current &&\n          previousFocusElement.current.tagName.toLowerCase() !== \"body\"\n        ) {\n          (previousFocusElement.current as HTMLElement).focus();\n        } else {\n          (activeElement as HTMLElement).blur();\n        }\n      }\n    };\n\n    document.addEventListener(\"keydown\", keyDownHandler);\n    rootElement.addEventListener(\"focusout\", blurHandler);\n\n    return () => {\n      document.removeEventListener(\"keydown\", keyDownHandler);\n      rootElement.removeEventListener(\"focusout\", blurHandler);\n    };\n  }, [\n    hotkey,\n    disabled,\n    rootRef,\n    shouldEscapeRefocus,\n    onHotkeyIn,\n    refToFocus,\n    onHotkeyOut,\n  ]);\n\n  return { returnFocusRef: previousFocusElement };\n};\n","import { CSSProperties, useMemo } from \"react\";\nimport { useToasts } from \"./useToasts\";\n\n/**\n * Hook for calculating position styles for the show more button\n * @returns CSS properties for positioning the show more button\n */\nexport const useShowMoreButtonPositionStyles = (): CSSProperties => {\n  const { toastHeights, toastsBeforeStack } = useToasts();\n  const totalToasts = toastHeights.length;\n  const extraSpace = totalToasts > toastsBeforeStack + 1 ? \"2rem\" : \"1rem\";\n  const top = useMemo(() => {\n    if (totalToasts > toastsBeforeStack) {\n      return toastHeights\n        .filter((_t, i) => i >= totalToasts - toastsBeforeStack)\n        .map((t) => t.height)\n        .reduce((t, c) => t + c);\n    }\n    return \"unset\";\n    // toastHeights will force update at same time as totalToasts\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [toastHeights, toastsBeforeStack]);\n\n  return {\n    // -0.75px fixes hover issue when 1rem != 16px due to pixel rounding\n    top: `calc(${top}px + ${extraSpace} - 0.75px)`,\n    position: \"absolute\",\n    display: totalToasts > toastsBeforeStack ? undefined : \"none\",\n  };\n};\n","import {\n  ComponentPropsWithoutRef,\n  forwardRef,\n  useEffect,\n  useRef,\n  useCallback,\n  useState,\n  CSSProperties,\n} from \"react\";\nimport cx from \"classnames\";\n\nimport { Button } from \"../../Button\";\nimport { useMergeRefs } from \"../../../hooks\";\nimport { SrOnly } from \"../../SrOnly\";\n\nimport { ANIMATION_DURATION } from \"./constants\";\nimport { Toast, ToastProps } from \"./Toast\";\nimport { toast } from \"../toast\";\nimport { useHotkeyFocus } from \"./useHotkeyFocus\";\nimport { useShowMoreButtonPositionStyles } from \"./useShowMoreButtonPositionStyles\";\nimport { useToasts } from \"./useToasts\";\n\nimport styles from \"./Toaster.module.scss\";\n\n/**\n * Props for the ToastStack component\n * @extends ComponentPropsWithoutRef<\"div\">\n */\nexport type ToastStackProps = Omit<\n  ComponentPropsWithoutRef<\"div\">,\n  \"children\"\n> & {\n  /**\n   * Duration of the toast in milliseconds. If set to `false`, the toast will not auto-dismiss.\n   * If `actions` are provided in the toast method, this prop will be ignored and treated as `false`.\n   * @default false\n   */\n  duration?: number | false;\n  /**\n   * How a screen-reader will announce the hotkey used to set focus on the first toast.\n   * @default \"t\"\n   */\n  focusKey?: string;\n  /**\n   * How many toasts to display before they start stacking.\n   * @default 3\n   */\n  toastsBeforeStack?: number;\n  /**\n   * The toasts to display in the stack.\n   * @default []\n   */\n  toasts: ToastProps[];\n};\n\n/**\n * ToastStack component for displaying a stack of toast notifications.\n *\n * Features:\n * - Displays multiple toasts in a vertical stack\n * - Automatic stacking behavior when toast count exceeds limit\n * - Show more button to expand stacked toasts\n * - Keyboard navigation with hotkey support\n * - Hover pause functionality for toast timers\n * - Smooth animations and transitions\n * - Accessibility features with screen reader support\n * - Responsive design with mobile touch support\n * - Focus management for keyboard users\n *\n * @example\n * <ToastStack\n *   toasts={toastList}\n *   duration={5000}\n *   toastsBeforeStack={3}\n *   focusKey=\"t\"\n * />\n *\n * @example\n * <ToastStack\n *   toasts={[toast1, toast2]}\n *   duration={false}\n *   toastsBeforeStack={5}\n * />\n */\nexport const ToastStack = forwardRef<HTMLDivElement, ToastStackProps>(\n  (\n    {\n      className,\n      duration = false,\n      focusKey = \"t\",\n      toasts,\n      toastsBeforeStack = 3,\n      ...props\n    },\n    ref,\n  ) => {\n    const toastStackRef = useRef<HTMLDivElement>(null);\n    const firstToastRef = useRef<HTMLDivElement | null>(null);\n    const mergedToastStackRef = useMergeRefs([toastStackRef, ref]);\n    const {\n      setToastsBeforeStack,\n      extraToastsVisible,\n      setExtraToastsVisible,\n      getToastStackHeight,\n      isDialogToaster,\n    } = useToasts();\n    const toastCount = toasts.length;\n    const isToastStackEmpty = toastCount === 0;\n\n    const lastToastCount = useRef<number>(0);\n\n    const [toastStackHeight, setToastStackHeight] = useState<number>(0);\n    const [disableAnimations, setDisableAnimations] = useState(false);\n    const [toastPausedStatus, setToastPausedStatus] =\n      useState<ToastProps[\"pausedStatus\"]>(undefined);\n\n    useEffect(() => {\n      if (toastCount === 0) {\n        setToastPausedStatus(undefined);\n      }\n    }, [toastCount]);\n\n    useEffect(() => {\n      const scrollListener = (e: WheelEvent) => {\n        e.preventDefault();\n        e.stopPropagation();\n        toastStackRef.current?.scrollTo({\n          top: toastStackRef.current.scrollTop + e.deltaY,\n        });\n      };\n\n      if (isDialogToaster) {\n        // prevent existing toasts from sliding in again\n        setDisableAnimations(isDialogToaster);\n        setTimeout(() => {\n          setDisableAnimations(false);\n        }, 500);\n\n        // fix scrolling for toast stacks in dialogs\n        const toastStackRefCurrent = toastStackRef.current;\n        toastStackRefCurrent?.addEventListener(\"wheel\", scrollListener, {\n          passive: false,\n        });\n\n        return () => {\n          toastStackRefCurrent?.removeEventListener(\"wheel\", scrollListener);\n        };\n      }\n    }, [isDialogToaster]);\n\n    // reset toast stack height when toasts change\n    useEffect(() => {\n      let timer: NodeJS.Timeout;\n      if (toastCount > lastToastCount.current || isDialogToaster) {\n        setToastStackHeight(getToastStackHeight());\n      } else {\n        timer = setTimeout(\n          () => setToastStackHeight(getToastStackHeight()),\n          ANIMATION_DURATION - 10,\n        );\n      }\n      lastToastCount.current = toastCount;\n      return () => {\n        clearTimeout(timer);\n      };\n      // only run after toastStackHeight updates or dialog state changes\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [getToastStackHeight, isDialogToaster]);\n\n    useEffect(() => {\n      setToastsBeforeStack(toastsBeforeStack);\n    }, [setToastsBeforeStack, toastsBeforeStack]);\n\n    const handleToastStackBlur = useCallback(() => {\n      setExtraToastsVisible(false);\n\n      setToastPausedStatus(\"resumed\");\n\n      if (toastStackRef.current?.scrollTo) {\n        toastStackRef.current?.scrollTo(0, 0);\n      }\n    }, [setExtraToastsVisible]);\n\n    const { returnFocusRef } = useHotkeyFocus({\n      disabled: isToastStackEmpty,\n      hotkey: focusKey,\n      onHotkeyIn: async () => {\n        setExtraToastsVisible(true);\n        return new Promise((resolve) => {\n          // add a delay for the ToastStack to render the hidden toasts\n          setTimeout(() => {\n            resolve();\n          }, 100);\n        });\n      },\n      onHotkeyOut: () => {\n        setExtraToastsVisible(false);\n        handleToastStackBlur();\n      },\n      refToFocus: firstToastRef as React.MutableRefObject<HTMLElement>,\n      rootRef: toastStackRef as React.MutableRefObject<HTMLElement>,\n    });\n\n    const showMoreButtonPositionStyles = useShowMoreButtonPositionStyles();\n\n    const showMoreButton =\n      !extraToastsVisible && toastCount > toastsBeforeStack;\n    const extraToastsLength = toastCount - toastsBeforeStack;\n    const showMoreButtonText = `${extraToastsLength} more message${extraToastsLength > 1 ? \"s\" : \"\"}`;\n\n    const toastStackClasses = cx(styles[\"toast-stack\"], className, {\n      [styles[\"show-more-button\"]]: showMoreButton,\n      [styles[\"show-extra-toast\"]]: extraToastsVisible,\n      [styles[\"disable-animations\"]]: disableAnimations,\n    });\n\n    const handleToastStackFocusHover = () => {\n      if (toastPausedStatus === \"resumed\" || toastPausedStatus === undefined) {\n        setToastPausedStatus(Date.now());\n      }\n    };\n\n    const handleToastStackOnBlur = () => {\n      if (!toastStackRef.current?.matches(\":focus-within\")) {\n        handleToastStackBlur();\n      }\n    };\n\n    const handleShowMoreButtonClick = () => {\n      setExtraToastsVisible(true);\n    };\n\n    let toastStackHeightStyle: CSSProperties[\"height\"] = 0;\n\n    if (extraToastsVisible) {\n      // need to reduce padding here due to box-sizing: content-box\n      toastStackHeightStyle = \"calc(100vh - var(--toast-stack-padding) * 2)\";\n    } else if (toastCount > toastsBeforeStack) {\n      // 3rem to leave room for show more button\n      toastStackHeightStyle = `calc(${toastStackHeight}px + 3rem + var(--toast-stack-padding))`;\n    } else {\n      toastStackHeightStyle = toastStackHeight;\n    }\n\n    return (\n      <>\n        <div\n          data-anv=\"ToastStack\"\n          className={toastStackClasses}\n          ref={mergedToastStackRef}\n          onMouseOver={handleToastStackFocusHover}\n          onMouseLeave={handleToastStackBlur}\n          onFocus={handleToastStackFocusHover}\n          onBlur={handleToastStackOnBlur}\n          style={{\n            height: toastStackHeightStyle,\n          }}\n          {...props}\n        >\n          {toasts.map(({ toastClassName, onClose, ...toastProps }, index) => {\n            const isStacked =\n              !extraToastsVisible && index < toastCount - toastsBeforeStack;\n\n            const isLastToastDisplayed =\n              index === toastCount - toastsBeforeStack;\n\n            const isHidden = index < toastCount - toastsBeforeStack - 2;\n\n            const toastClasses = cx(styles.toast, toastClassName);\n            const toastContainerClasses = cx(styles[\"toast-wrapper\"], {\n              [styles.stacked]: isStacked || isLastToastDisplayed,\n              [styles[\"stack-one\"]]:\n                isStacked && index === toastCount - toastsBeforeStack - 1,\n              [styles[\"stack-two\"]]:\n                isStacked && index === toastCount - toastsBeforeStack - 2,\n              [styles[\"stacked-extra\"]]: isHidden,\n              [styles[\"stacked-show-extra\"]]: extraToastsVisible,\n            });\n\n            const handleOnClose = (\n              e: React.MouseEvent<HTMLButtonElement, MouseEvent>,\n            ) => {\n              onClose?.(e);\n              returnFocusRef.current?.focus();\n              toast.dismiss(toastProps.id);\n            };\n\n            return (\n              <Toast\n                containerClassName={toastContainerClasses}\n                duration={duration}\n                index={index}\n                isStacked={isStacked}\n                isBelowStackIndex={index < toastCount - toastsBeforeStack}\n                key={toastProps.id}\n                onClose={handleOnClose}\n                pausedStatus={toastPausedStatus}\n                toastClassName={toastClasses}\n                ref={index === 0 ? firstToastRef : undefined}\n                {...toastProps}\n              />\n            );\n          })}\n          {showMoreButton && (\n            <div\n              className={styles[\"show-more-button-container\"]}\n              style={showMoreButtonPositionStyles}\n            >\n              <Button\n                className={styles[\"show-collapse-button\"]}\n                onClick={handleShowMoreButtonClick}\n                appearance=\"secondary\"\n                tabIndex={0}\n              >\n                {showMoreButtonText}\n              </Button>\n            </div>\n          )}\n          <SrOnly aria-live=\"polite\">\n            New toast message appeared. Press the {focusKey} key to focus on the\n            toast messages. Press escape to return focus to previous position.\n          </SrOnly>\n        </div>\n        {extraToastsVisible && (\n          <div className={styles[\"show-collapse-button-container\"]}>\n            <Button\n              className={styles[\"show-collapse-button\"]}\n              onClick={handleToastStackBlur}\n              appearance=\"secondary\"\n            >\n              Collapse Messages\n            </Button>\n          </div>\n        )}\n      </>\n    );\n  },\n);\n\nToastStack.displayName = \"ToastStack\";\n","import cx from \"classnames\";\nimport {\n  ComponentPropsWithoutRef,\n  forwardRef,\n  useEffect,\n  useCallback,\n  useRef,\n  useState,\n} from \"react\";\n\nimport { ANIMATION_DURATION } from \"./constants\";\nimport { ToastProvider } from \"./ToastProvider\";\nimport {\n  ToastCustomEventDetail,\n  ToastCustomEventDetailAdd,\n  ToastCustomEventDetailUpdate,\n  ToastUpdateProps,\n} from \"./types\";\nimport { ToastProps } from \"./Toast\";\nimport { ToastStack, ToastStackProps } from \"./ToastStack\";\nimport { ToasterPopover } from \"./ToasterPopover\";\nimport { useCloseToast } from \"./useCloseToast\";\nimport { useMergeRefs } from \"../../../hooks\";\nimport { useToasts } from \"./useToasts\";\n\nimport styles from \"./Toaster.module.scss\";\n\nexport type ToastEventType = {\n  eventType: \"add\" | \"update\" | \"dismiss\" | \"dismiss-all\";\n  toastCount: number;\n  id?: string;\n  toasterId?: string;\n  toastProps?: ToastProps | ToastUpdateProps;\n};\n\n/**\n * Props for the Toaster component\n * @extends ComponentPropsWithoutRef<\"div\">\n * @extends Omit<ToastStackProps, \"toasts\">\n */\nexport type ToasterProps = ComponentPropsWithoutRef<\"div\"> &\n  Omit<ToastStackProps, \"toasts\"> & {\n    /**\n     * When `true`, the toaster will not listen for custom events to add, update, or dismiss toasts.\n     * Use this to prevent multiple toasters from displaying the same toasts.\n     * @default false\n     */\n    disableEvents?: boolean;\n    /**\n     * @deprecated This prop has no effect. The toaster no longer conditionally renders internally.\n     * @default false\n     */\n    forceRender?: boolean;\n    /**\n     * Unique toaster id.\n     */\n    id: string;\n    /**\n     * Callback function that is called when toasts are added, updated, or dismissed.\n     */\n    onToastEvent?: (toastEvent: ToastEventType) => void;\n  };\n\ntype DialogToasterCustomEventDetail = {\n  eventType: \"dialog-toaster\";\n};\ntype DialogToasterCustomEvent = CustomEvent<DialogToasterCustomEventDetail>;\n\n/**\n * Toaster component for managing and displaying toast notifications.\n *\n * Features:\n * - Manages multiple toast notifications in a stack\n * - Handles toast positioning and stacking behavior\n * - Supports custom events for toast management\n * - Automatic toast dismissal with configurable duration\n * - Keyboard navigation and accessibility support\n * - Dialog-aware positioning for modal contexts\n * - Session storage for dialog toaster state\n * - Custom event system for toast lifecycle management\n * - Responsive design with mobile support\n *\n * @example\n * <Toaster\n *   id=\"main-toaster\"\n *   duration={5000}\n *   toastsBeforeStack={3}\n *   onToastEvent={(event) => console.log('Toast event:', event)}\n * />\n *\n * @example\n * <Toaster\n *   id=\"dialog-toaster\"\n *   disableEvents={false}\n *   focusKey=\"t\"\n * />\n */\nexport const ToasterContent = forwardRef<HTMLDivElement, ToasterProps>(\n  (\n    {\n      className,\n      disableEvents = false,\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars -- pulling out of props\n      forceRender = false,\n      id,\n      onToastEvent,\n\n      // ToastStackProps\n      duration,\n      focusKey,\n      toastsBeforeStack,\n      ...props\n    },\n    ref,\n  ) => {\n    const toasterRef = useRef<HTMLDivElement>(null);\n    const mergedToasterRef = useMergeRefs([toasterRef, ref]);\n\n    const { toasts, setToasts, isDialogToaster } = useToasts();\n\n    // refs using state to be used inside event listeners\n    const disableEventsRef = useRef<boolean>(disableEvents);\n    const toastCountRef = useRef<number>(0);\n    const isDialogToasterRef = useRef<boolean>(isDialogToaster);\n\n    const [shouldHideToaster, setShouldHideToaster] = useState(false);\n\n    const updateDialogToasterStorage = useCallback(\n      (isDialogToaster: boolean) => {\n        const dialogToasters = JSON.parse(\n          window?.sessionStorage.getItem(\"dialog-toasters\") ?? \"[]\",\n        );\n\n        if (isDialogToaster) {\n          if (!dialogToasters.includes(id)) {\n            window?.sessionStorage.setItem(\n              \"dialog-toasters\",\n              JSON.stringify([...dialogToasters, id]),\n            );\n          }\n        } else if (dialogToasters.includes(id)) {\n          window?.sessionStorage.setItem(\n            \"dialog-toasters\",\n            JSON.stringify(\n              dialogToasters.filter(\n                (dialogToaster: string) => dialogToaster !== id,\n              ),\n            ),\n          );\n        }\n      },\n      [id],\n    );\n\n    useEffect(() => {\n      disableEventsRef.current = disableEvents;\n    }, [disableEvents]);\n\n    useEffect(() => {\n      toastCountRef.current = toasts.length;\n    }, [toasts.length]);\n\n    useEffect(() => {\n      // update session storage\n      updateDialogToasterStorage(isDialogToaster);\n      // update ref for event listeners\n      isDialogToasterRef.current = isDialogToaster;\n\n      // Dispatch a custom event to notify other Toasters\n      const DialogToasterEvent: DialogToasterCustomEvent =\n        new CustomEvent<DialogToasterCustomEventDetail>(\"dialog-toaster\", {\n          composed: true,\n          detail: {\n            eventType: \"dialog-toaster\",\n          },\n        });\n      dispatchEvent(DialogToasterEvent);\n      // don't need to check for function change\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [isDialogToaster]);\n\n    const closeToast = useCloseToast(styles.close);\n\n    useEffect(() => {\n      let timeout: NodeJS.Timeout | undefined;\n      updateDialogToasterStorage(isDialogToaster);\n\n      /**\n       * Listen for custom events to add, update, or dismiss toasts.\n       */\n      const toastEventListener = (e: Event) => {\n        if (disableEventsRef.current) {\n          return;\n        }\n\n        const { eventType, ...toastProps } = (\n          e as CustomEvent<ToastCustomEventDetail>\n        ).detail;\n\n        if (eventType === \"add\") {\n          const toastAddProps = toastProps as ToastCustomEventDetailAdd;\n\n          if (!toastAddProps.toasterId || toastAddProps.toasterId === id) {\n            setToasts((prev) => [...prev, toastProps as ToastProps]);\n          }\n\n          // allow for state change to finish before calling onToastEvent()\n          timeout = setTimeout(() => {\n            onToastEvent?.({\n              eventType: \"add\",\n              toastCount: toastCountRef.current,\n              id: toastAddProps.id,\n              toasterId: id,\n              toastProps: toastAddProps,\n            });\n          });\n        } else if (eventType === \"update\") {\n          const toastUpdateProps = toastProps as ToastCustomEventDetailUpdate;\n\n          setToasts((prev) => {\n            return prev.map((t) => {\n              if (t.id === toastUpdateProps.id) {\n                return {\n                  ...t,\n                  ...toastUpdateProps,\n                };\n              } else {\n                return t;\n              }\n            });\n          });\n\n          onToastEvent?.({\n            eventType: \"update\",\n            toastCount: toastCountRef.current,\n            id: toastUpdateProps.id,\n            toasterId: id,\n            toastProps: toastUpdateProps,\n          });\n        } else if (eventType === \"dismiss\") {\n          if (toastProps.id) {\n            closeToast(toastProps.id);\n\n            // allow for animation to finish before calling onToastEvent()\n            timeout = setTimeout(() => {\n              onToastEvent?.({\n                eventType: \"dismiss\",\n                toastCount: toastCountRef.current,\n                id: toastProps.id,\n                toasterId: id,\n              });\n            }, ANIMATION_DURATION);\n          } else {\n            closeToast();\n\n            onToastEvent?.({\n              eventType: \"dismiss-all\",\n              toastCount: 0,\n              toasterId: id,\n            });\n          }\n        }\n      };\n\n      /**\n       * Listen for custom events that indicate a dialog toaster is open or closed.\n       */\n      const dialogToasterEventListener = (e: Event) => {\n        const { eventType } = (e as CustomEvent<DialogToasterCustomEventDetail>)\n          .detail;\n        if (eventType === \"dialog-toaster\") {\n          const dialogToasters = JSON.parse(\n            window?.sessionStorage.getItem(\"dialog-toasters\") ?? \"[]\",\n          );\n          if (dialogToasters.length > 0) {\n            if (\n              isDialogToasterRef.current &&\n              dialogToasters[dialogToasters.length - 1] === id\n            ) {\n              setShouldHideToaster(false);\n            } else {\n              setShouldHideToaster(true);\n            }\n          } else {\n            setShouldHideToaster(false);\n          }\n        }\n      };\n\n      const onPageRefreshListener = () => {\n        window?.sessionStorage.removeItem(\"dialog-toasters\");\n      };\n\n      window?.addEventListener(\"hammer-toast\", toastEventListener);\n      window?.addEventListener(\"dialog-toaster\", dialogToasterEventListener);\n      window?.addEventListener(\"beforeunload\", onPageRefreshListener);\n\n      return () => {\n        window?.removeEventListener(\"hammer-toast\", toastEventListener);\n        window?.removeEventListener(\n          \"dialog-toaster\",\n          dialogToasterEventListener,\n        );\n        window?.removeEventListener(\"beforeunload\", onPageRefreshListener);\n\n        clearTimeout(timeout);\n        updateDialogToasterStorage(false);\n      };\n      // only run on first render\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    const toasterClasses = cx(styles.toaster, {\n      [styles[\"hidden\"]]: shouldHideToaster,\n      [`${className}`]: className != null,\n    });\n\n    return (\n      <div\n        data-anv=\"toaster\"\n        data-toaster-id={id}\n        aria-hidden={shouldHideToaster}\n        className={toasterClasses}\n        ref={mergedToasterRef}\n        {...props}\n      >\n        <ToastStack\n          toasts={toasts}\n          duration={duration}\n          focusKey={focusKey}\n          toastsBeforeStack={toastsBeforeStack}\n        />\n      </div>\n    );\n  },\n);\n\nexport const Toaster = forwardRef<HTMLDivElement, ToasterProps>(\n  (props, ref) => {\n    return (\n      <ToastProvider>\n        <ToasterPopover>\n          <ToasterContent {...props} ref={ref} />\n        </ToasterPopover>\n      </ToastProvider>\n    );\n  },\n);\n\nToaster.displayName = \"Toaster\";\nToasterContent.displayName = \"ToasterContent\";\n"],"names":["toasts","uuid","promise","isDialogToaster"],"mappings":"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","x_google_ignoreList":[5,6,7,8]}