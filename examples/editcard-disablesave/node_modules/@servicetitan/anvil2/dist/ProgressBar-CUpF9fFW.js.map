{"version":3,"file":"ProgressBar-CUpF9fFW.js","sources":["../src/components/ProgressBar/ProgressBar.tsx"],"sourcesContent":["import {\n  forwardRef,\n  ComponentPropsWithoutRef,\n  useId,\n  AriaAttributes,\n  ReactElement,\n} from \"react\";\nimport cx from \"classnames\";\nimport Check from \"@servicetitan/hammer-icon/mdi/round/check_circle.svg\";\nimport Error from \"@servicetitan/hammer-icon/mdi/round/error.svg\";\n\nimport { FieldLabel, FieldLabelProps } from \"../FieldLabel\";\nimport { Flex } from \"../Flex\";\nimport { Helper, HelperProps } from \"../../internal/components\";\nimport { Icon } from \"../Icon\";\nimport { LayoutUtilProps } from \"../../types\";\nimport { useLayoutPropsUtil } from \"../../internal/hooks\";\n\nimport styles from \"./ProgressBar.module.scss\";\n\n/**\n * Props for the ProgressBar component\n * @extends Omit<ComponentPropsWithoutRef<\"progress\">, \"value\">\n * @extends LayoutUtilProps\n */\nexport type ProgressBarProps = Omit<\n  ComponentPropsWithoutRef<\"progress\">,\n  \"value\"\n> &\n  LayoutUtilProps & {\n    /**\n     * Error state or error message to display\n     * @default false\n     */\n    error?: ReactElement | string | boolean;\n    /**\n     * ARIA live region setting for error announcements\n     */\n    errorAriaLive?: HelperProps[\"errorAriaLive\"];\n    /**\n     * Description text to display below the progress bar\n     */\n    description?: HelperProps[\"description\"];\n  } & (\n    | {\n        /**\n         * Label text for the progress bar\n         */\n        label: FieldLabelProps[\"children\"];\n        /**\n         * Additional props for the label component\n         */\n        labelProps?: Omit<FieldLabelProps, \"children\" | \"id\" | \"required\">;\n      }\n    | {\n        label?: never;\n        labelProps?: never;\n        /**\n         * Accessible label for the progress bar (alternative to label)\n         */\n        [\"aria-label\"]: Exclude<AriaAttributes[\"aria-label\"], undefined>;\n      }\n    | {\n        label?: never;\n        labelProps?: never;\n        /**\n         * ID of element that labels the progress bar (alternative to label)\n         */\n        [\"aria-labelledby\"]: Exclude<\n          AriaAttributes[\"aria-labelledby\"],\n          undefined\n        >;\n      }\n  ) &\n  (\n    | {\n        /**\n         * Current progress value (0-100 or 0-max)\n         */\n        value: `${number}` | number;\n        /**\n         * Whether the progress bar is in indeterminate state\n         * @default false\n         */\n        indeterminate?: false;\n      }\n    | {\n        value?: never;\n        /**\n         * Whether the progress bar is in indeterminate state\n         */\n        indeterminate: true;\n      }\n  );\n\n/**\n * ProgressBar component for displaying progress indicators.\n *\n * Features:\n * - Supports both determinate and indeterminate progress states\n * - Optional label with customizable label props\n * - Error state with error message display\n * - Success state with check icon when value equals max\n * - Description text support\n * - Accessibility support with proper ARIA attributes\n * - Layout utility props for positioning and spacing\n * - Flexible labeling options (label, aria-label, aria-labelledby)\n * - Error and success visual indicators\n *\n * @example\n * <ProgressBar\n *   label=\"Upload Progress\"\n *   value={75}\n *   max={100}\n *   description=\"Uploading files...\"\n * />\n *\n * @example\n * <ProgressBar\n *   label=\"Processing\"\n *   indeterminate\n *   description=\"Please wait...\"\n * />\n *\n * @example\n * <ProgressBar\n *   aria-label=\"Download progress\"\n *   value={50}\n *   error=\"Download failed\"\n * />\n */\nexport const ProgressBar = forwardRef<HTMLDivElement, ProgressBarProps>(\n  (props, ref) => {\n    const { layoutStyles, componentProps } = useLayoutPropsUtil(props);\n    const {\n      className,\n      style,\n      value,\n      children,\n      indeterminate,\n      errorAriaLive,\n      description,\n      error = false,\n      max = 100,\n      ...mainProps\n    } = componentProps;\n    const styleCombined = {\n      ...style,\n      ...layoutStyles,\n    };\n\n    const errorMessage = typeof error !== \"boolean\" ? error : undefined;\n    const labelUid = useId();\n    const isSuccess = typeof value !== \"undefined\" && +value >= +max;\n\n    if (\"label\" in props && !!props.label) {\n      const { label, labelProps, ...rest } = mainProps;\n\n      const ProgressBarClassNames = cx(\n        [styles[\"progress-bar\"]],\n\n        className,\n        {\n          [styles[`error`]]: error,\n          [styles[`success`]]: isSuccess,\n        },\n      );\n\n      return (\n        <div\n          className={ProgressBarClassNames}\n          data-anv=\"progress-bar\"\n          style={styleCombined}\n          ref={ref}\n        >\n          <Flex justifyContent=\"space-between\" alignItems=\"center\">\n            <FieldLabel id={labelUid} {...labelProps}>\n              {label}\n            </FieldLabel>\n            {isSuccess && !error ? (\n              <Icon className={styles[\"check-icon\"]} svg={Check} />\n            ) : null}\n            {error ? (\n              <Icon className={styles[\"error-icon\"]} svg={Error} />\n            ) : null}\n          </Flex>\n          <div className={styles[\"bar-container\"]}>\n            <progress\n              aria-labelledby={labelUid}\n              className={styles[\"bar\"]}\n              value={value}\n              max={max}\n              {...rest}\n            />\n          </div>\n          {errorMessage || description ? (\n            <Helper\n              errorMessage={errorMessage}\n              errorAriaLive={errorAriaLive}\n              description={description}\n            />\n          ) : null}\n        </div>\n      );\n    }\n\n    const ProgressBarClassNames = cx([styles[\"progress-bar\"]], className, {\n      [styles[`error`]]: error,\n      [styles[`success`]]: isSuccess,\n    });\n\n    return (\n      <div\n        className={ProgressBarClassNames}\n        data-anv=\"progress-bar\"\n        style={styleCombined}\n        ref={ref}\n      >\n        <div className={styles[\"bar-container\"]}>\n          <progress\n            className={styles[\"bar\"]}\n            max={max}\n            value={value}\n            {...mainProps}\n          />\n        </div>\n        {errorMessage || description ? (\n          <Helper\n            errorMessage={errorMessage}\n            errorAriaLive={errorAriaLive}\n            description={description}\n          />\n        ) : null}\n      </div>\n    );\n  },\n);\n\nProgressBar.displayName = \"ProgressBar\";\n"],"names":["ProgressBarClassNames","Check","Error"],"mappings":"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"}