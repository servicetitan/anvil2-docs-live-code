const makeZeroShortcutPreprocessor = (templateString, separator) => {
  const zeroShortcutPreprocessor = ({ elementState, data }, actionType) => {
    if (actionType === "insert" && // the user is inserting a character
    data === separator && // the user typed the separator character
    elementState.selection[0] === elementState.selection[1]) {
      const selectionIndex = elementState.selection[0];
      const separatorPositions = templateString.split("").map((char, index) => char === separator ? index : null).filter((position) => position !== null).filter((position) => position > selectionIndex);
      const noRemainingSegments = !separatorPositions.length;
      const nothingEnteredYet = !elementState.value.length;
      const previousCharacterIsNotADigit = !/^\d$/.test(
        elementState.value.slice(-1)
      );
      const currentCharacterIsSeparator = templateString[selectionIndex] === separator;
      if (noRemainingSegments || nothingEnteredYet || previousCharacterIsNotADigit || currentCharacterIsSeparator) {
        return { elementState, data };
      }
      const firstIndexOfSegment = Math.max(
        elementState.value.lastIndexOf(separator) + 1,
        elementState.value.lastIndexOf(" ") + 1,
        0
      );
      const lastIndexOfSegment = separatorPositions[0];
      const digitsCurrentlyInSegment = elementState.value.slice(firstIndexOfSegment);
      const targetNumberOfDigitsInSegment = templateString.slice(
        firstIndexOfSegment,
        lastIndexOfSegment
      ).length;
      const newSegment = digitsCurrentlyInSegment.padStart(
        targetNumberOfDigitsInSegment,
        "0"
      );
      const newValue = `${elementState.value.slice(0, firstIndexOfSegment)}${newSegment}`;
      return {
        elementState: {
          value: newValue + data,
          selection: [newValue.length, newValue.length]
        },
        data
      };
    }
    return { elementState, data };
  };
  return zeroShortcutPreprocessor;
};

export { makeZeroShortcutPreprocessor as m };
//# sourceMappingURL=makeZeroShortcutPreprocessor-CxsiGTRW.js.map
